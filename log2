    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:12,169 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:12,169 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:12,169 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:12,169 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:12,169 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:12,169 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:12,184 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:54:12,200 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_SPP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_CONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:54:12,325 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:12,325 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:13,059 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:13,059 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
stream_type: VOICE
max_val: 15
current_val: 10
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:54:13,075 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(tel): context= 0
[I 2022-07-28 14:54:13,075 SpitfireComponentMessaging:0082] [:(] Right: Got 'tel' Event: 0
 --- Data ---
status: TEL_PROFILE_CONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[W 2022-07-28 14:54:13,138 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:13,138 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:13,293 bt_notification:0549] [:(] _source_hfag_battery_level_cb received = NOTIFY
[D 2022-07-28 14:54:13,293 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "percentage": 0
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagBatteryLevelStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:54:13,341 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:13,341 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:13,372 bt_notification:0476] [:(] _source_hfag_speaker_volume_cb received = NOTIFY
[D 2022-07-28 14:54:13,372 bt_notification:0480] [:(] Threading event sourceHfagSpeakerVolumesNotifEvent set successfully
[D 2022-07-28 14:54:13,387 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "type": "SPEAKER",
        "volume": 67
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagVolume/speaker",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:13,387 bt_notification:0469] [:(] _source_hfag_mic_volume_cb received = NOTIFY
[D 2022-07-28 14:54:13,387 bt_notification:0473] [:(] Threading event sourceHfagMicVolumeNotifEvent set successfully
[D 2022-07-28 14:54:13,387 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "type": "MIC",
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagVolume/mic",
        "version": 1.0
    }
}
[W 2022-07-28 14:54:14,153 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:14,153 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:14,356 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:14,356 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[E 2022-07-28 14:54:14,590 apServerListener:0659] [:(] GetHeadder : Socket timout
[W 2022-07-28 14:54:15,168 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:15,168 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:15,168 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[I 2022-07-28 14:54:15,168 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[W 2022-07-28 14:54:15,371 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:15,371 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:15,512 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_AVRCP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_CONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:54:15,527 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/sink/macAddr
[D 2022-07-28 14:54:15,527 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/sink/macAddr', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 164}}
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:54:15,527 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 164,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 164,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:54:15,527 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/sink/macAddr
[D 2022-07-28 14:54:15,684 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "mac": "28:11:a5:a5:cb:a8"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 164,
        "resource": "/bluetooth/sink/macAddr",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:15,684 sink_group:0030] [:(] wait_for_sink_profiles_connection_state: RIGHT
[I 2022-07-28 14:54:15,684 bt_spitfire_helper:0249] [:(] Right: wait_for_sink_profiles_connection_state: ['PROFILE_ID_AVRCP', 'PROFILE_ID_A2DP', 'PROFILE_ID_HFAG'] PROFILE_CONNECTED 28:11:a5:a5:cb:a8 30
[I 2022-07-28 14:54:15,777 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2........s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:54:15,777 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2........s. H
[I 2022-07-28 14:54:15,777 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:54:15,777 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:54:15,777 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[W 2022-07-28 14:54:16,183 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:16,183 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:16,387 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:16,387 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:16,402 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2v.......s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:54:16,402 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 0
[I 2022-07-28 14:54:16,402 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2v.......s. H
[I 2022-07-28 14:54:16,402 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 0
 --- Data ---
status: PROFILE_CONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:54:16,402 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:54:16,402 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:16,402 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:54:16,402 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:54:16,402 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[I 2022-07-28 14:54:16,402 helper_functions:0211] [:(] set_volume
[D 2022-07-28 14:54:16,402 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:54:16,402 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:54:16,418 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/volume
[D 2022-07-28 14:54:16,418 FrontDoorAPI:0379] [:(] Enveloping data: {
    "volume": 90
}
[D 2022-07-28 14:54:16,418 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/volume', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 165}}
[D 2022-07-28 14:54:16,418 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "volume": 90
}
[D 2022-07-28 14:54:16,418 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "volume": 90
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 165,
        "resource": "/bluetooth/source/volume",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:54:16,418 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "volume": 90
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 165,
        "resource": "/bluetooth/source/volume",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:54:16,418 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/volume
[I 2022-07-28 14:54:16,574 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[D 2022-07-28 14:54:16,574 bt_notification:0331] [:(] _source_volume_cb received = POST
[I 2022-07-28 14:54:16,621 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:16,621 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:54:16,730 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[D 2022-07-28 14:54:16,761 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 165,
        "resource": "/bluetooth/source/volume",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:16,761 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 1
[D 2022-07-28 14:54:16,761 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[I 2022-07-28 14:54:16,761 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 1
 --- Data ---
status: MEDIA_STOPPED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:54:16,761 helper_functions:0854] [:(] get_a2dp_CodecParams
[I 2022-07-28 14:54:16,761 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 2
[I 2022-07-28 14:54:16,761 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 2
 --- Data ---
isTrackChanged: true
attributes {
  id: MPL_NOWPLAYING_TITLE
  len: 1
  attribute: " "
}

[D 2022-07-28 14:54:16,761 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:54:16,761 rivieraCommunication:0301] [:(] Executing ADB shell(device): /opt/Bose/bin/frontdoorutil -c POST /bluetooth/source/codecParams '{"mac":"78:2b:64:7c:45:be"}'
[D 2022-07-28 14:54:16,761 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 90
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:16,839 sink_group:0086] [:(] send_audio_prepare_output_request: BOTH
[I 2022-07-28 14:54:16,839 SpitfireAudioMessage:0708] [:(] Right: send_audio_prepare_output_request for prepare: True chain: True hwPower: True, unlock: True
[I 2022-07-28 14:54:16,839 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 35
[D Jul-28 14:54:16.839 SpitfireMessaging:361] Sending request with transaction id 198 (0xc6)
[D Jul-28 14:54:16.839 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:16,839 SpitfireAudioMessage:0708] [:(] Left: send_audio_prepare_output_request for prepare: True chain: True hwPower: True, unlock: True
[I 2022-07-28 14:54:16,839 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 35
[D Jul-28 14:54:16.839 SpitfireMessaging:361] Sending request with transaction id 5 (0x5)
[D Jul-28 14:54:16.855 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:16,855 sink_group:0086] [:(] check_audio_prepare_output_event: BOTH
[I 2022-07-28 14:54:16,855 SpitfireAudioMessage:0744] [:(] Right: check_audio_prepare_output_event: prepared: True, chain: True, hwPower: True, unlock: True, timeout_s: 10
[I 2022-07-28 14:54:16,855 SpitfireAudioMessage:0763] [:(] Right: Got expected Audio output event: prepared True, chain True, hwPower True, unlock True : prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:54:16,855 SpitfireAudioMessage:0744] [:(] Left: check_audio_prepare_output_event: prepared: True, chain: True, hwPower: True, unlock: True, timeout_s: 10
[I 2022-07-28 14:54:16,855 SpitfireAudioMessage:0763] [:(] Left: Got expected Audio output event: prepared True, chain True, hwPower True, unlock True : prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:54:16,855 helper_functions:0245] [:(] Main music url http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3
[I 2022-07-28 14:54:16,855 test_a2dp_play:0903] [:(] stream_url = http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3
[I 2022-07-28 14:54:16,855 sink_group:0086] [:(] set_latency_request: RIGHT
[I 2022-07-28 14:54:16,855 SpitfireAudioMessage:0669] [:(] Right: set_latency_request target: 30
[I 2022-07-28 14:54:16,855 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 36
[D Jul-28 14:54:16.855 SpitfireMessaging:361] Sending request with transaction id 199 (0xc7)
[D Jul-28 14:54:16.871 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:16,871 sink_group:0030] [:(] check_set_latency_response: RIGHT
[I 2022-07-28 14:54:16,871 SpitfireAudioMessage:0688] [:(] Right: check_set_latency_response
[I 2022-07-28 14:54:16,871 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 36 and request_id: 133
[I 2022-07-28 14:54:16,886 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 35, request_id: 132
 --- payload---
success: true


[I 2022-07-28 14:54:16,902 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 35, request_id: 5
 --- payload---
success: true


[I 2022-07-28 14:54:16,918 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 36, request_id: 133
 --- payload---
success: true
music {
  target: 30
  limits {
    max: 300
  }
}


[I 2022-07-28 14:54:16,918 helper_functions:0229] [:(] play_primary_stream url=http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3
[I 2022-07-28 14:54:16,918 apTestClient:0229] [:(]  SETURL
[I 2022-07-28 14:54:16,918 apTestClient:0287] [:(] url: "http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3"
url_is_realtime: false
connection_timeout_in_ms: 20000
buffering_timeout_in_ms: 180000
source_dryup_timeout_ms: 30000
source_retry_delay_ms: 5000
source_retry_count: 5
dist_range: MULTIROOM
url_uuid: "bd6cf8600eb8476a85d7c0aec5e978a9"

[I 2022-07-28 14:54:16,918 apTestClient:0315] [:(] TRANSPORT CONTROL PLAY, url_id: 0  url_uuid bd6cf8600eb8476a85d7c0aec5e978a9
[I 2022-07-28 14:54:16,918 helper_functions:0232] [:(] primary stream urlUuid=bd6cf8600eb8476a85d7c0aec5e978a9
[I 2022-07-28 14:54:16,918 apServerListener:0221] [:(] Wait for Stream Event PLAYING id bd6cf8600eb8476a85d7c0aec5e978a9
[I 2022-07-28 14:54:16,933 apServerListener:0572] [:(] VolumeControl 10
[I 2022-07-28 14:54:16,933 apEventHandler:0041] [:(] Got Event: VOLUMECONTROL
[I 2022-07-28 14:54:17,058 apServerListener:0249] [:(] SETURL Response 14:54:17.058654 url: True, url_id: http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3, url_uuid: 17
[I 2022-07-28 14:54:17,058 apEventHandler:0041] [:(] Got Event: SETURL
[I 2022-07-28 14:54:17,058 apEventHandler:0041] [:(] Got Event: CONNECTING
[I 2022-07-28 14:54:17,058 apServerListener:0395] [:(] different prefetch_type received : streamId : bd6cf8600eb8476a85d7c0aec5e978a9 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:17,058 apEventHandler:0041] [:(] Got Event: PREFETCH_TYPE
[I 2022-07-28 14:54:17,058 apServerListener:0398] [:(] ['Stream ', 'bd6cf8600eb8476a85d7c0aec5e978a9', ' PREFETCH_TYPE ', '0']
[I 2022-07-28 14:54:17,058 apServerListener:0409] [:(] ['Stream ', 'bd6cf8600eb8476a85d7c0aec5e978a9', ' FRONTED']
[I 2022-07-28 14:54:17,058 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:17,058 apServerListener:0415] [:(] 14:54:17.058654 SERVERSTATE streamId: bd6cf8600eb8476a85d7c0aec5e978a9 Update CONNECTING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:17,058 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
10.26.138.48 - - [28/Jul/2022 14:54:17] "GET /testfile_48k_3dBFS_1000Hz_10m.mp3 HTTP/1.1" 200 -
[I 2022-07-28 14:54:17,058 apServerListener:0629] [:(] Stream state - isSilent: True
[I 220728 14:54:17.058 SampleMusicServer:39] [:(] FILESIZE 9731949
[I 2022-07-28 14:54:17,058 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:17,058 apServerListener:0288] [:(] TRANSPORT PLAY url_id: 0 url_uuid: bd6cf8600eb8476a85d7c0aec5e978a9
[I 2022-07-28 14:54:17,058 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[I 2022-07-28 14:54:17,152 apServerListener:0482] [:(] SERVER IS UNSUSPENDED
[I 2022-07-28 14:54:17,168 apEventHandler:0041] [:(] Got Event: UNSUSPENDED
[W 2022-07-28 14:54:17,199 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:17,199 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:17,214 apEventHandler:0041] [:(] Got Event: BUFFERING
[I 2022-07-28 14:54:17,214 apServerListener:0400] [:(] same prefetch_type received : streamId : bd6cf8600eb8476a85d7c0aec5e978a9 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:17,214 apServerListener:0409] [:(] ['Stream ', 'bd6cf8600eb8476a85d7c0aec5e978a9', ' FRONTED']
[I 2022-07-28 14:54:17,214 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:17,214 apServerListener:0415] [:(] 14:54:17.214868 SERVERSTATE streamId: bd6cf8600eb8476a85d7c0aec5e978a9 Update BUFFERING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:17,214 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:17,214 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:17,214 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:17,293 apEventHandler:0041] [:(] Got Event: PLAYING
[I 2022-07-28 14:54:17,293 apServerListener:0400] [:(] same prefetch_type received : streamId : bd6cf8600eb8476a85d7c0aec5e978a9 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:17,293 helper_functions:0234] [:(] play_stream is playing now
[I 2022-07-28 14:54:17,293 apServerListener:0409] [:(] ['Stream ', 'bd6cf8600eb8476a85d7c0aec5e978a9', ' FRONTED']
[I 2022-07-28 14:54:17,293 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:17,293 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:17,293 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:17,293 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:17,293 apServerListener:0415] [:(] 14:54:17.293007 SERVERSTATE streamId: bd6cf8600eb8476a85d7c0aec5e978a9 Update PLAYING stoppedReason: NA milliseconds: 4 byte_offset 578 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:17,293 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:17,293 apServerListener:0629] [:(] Stream state - isSilent: False
[I 2022-07-28 14:54:17,293 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[W 2022-07-28 14:54:17,402 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:17,402 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:17,543 apServerListener:0400] [:(] same prefetch_type received : streamId : bd6cf8600eb8476a85d7c0aec5e978a9 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:17,543 apServerListener:0409] [:(] ['Stream ', 'bd6cf8600eb8476a85d7c0aec5e978a9', ' FRONTED']
[I 2022-07-28 14:54:17,543 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:17,543 apServerListener:0415] [:(] 14:54:17.543324 SERVERSTATE streamId: bd6cf8600eb8476a85d7c0aec5e978a9 Update PLAYING stoppedReason: NA milliseconds: 316 byte_offset 5570 total_length 0 prefetchReady: False prefetchType: 0
[D 2022-07-28 14:54:18,058 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:18,058 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:18,058 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:18,199 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:18,199 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:18,199 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:18,199 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:18,199 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:18,199 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:18,199 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:18,199 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:18,199 sink_group:0057] [:(] check_audio_music_codec: BOTH
[I 2022-07-28 14:54:18,199 bt_spitfire_helper:0315] [:(] Right: check_audio_music_codec: SBC
[W 2022-07-28 14:54:18,214 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:18,214 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:18,214 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:18,214 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:18,214 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:18,214 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:18,214 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:18,214 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:18,230 bt_spitfire_helper:0278] [:(] Right: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:18,230 bt_spitfire_helper:0323] [:(] Right: Current codec SBC matches expected
[I 2022-07-28 14:54:18,230 bt_spitfire_helper:0315] [:(] Left: check_audio_music_codec: SBC
[I 2022-07-28 14:54:18,261 bt_spitfire_helper:0278] [:(] Left: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:18,261 bt_spitfire_helper:0323] [:(] Left: Current codec SBC matches expected
[I 2022-07-28 14:54:18,261 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:54:18,261 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 100
[I 2022-07-28 14:54:18,261 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:54:18,261 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 31
[I 2022-07-28 14:54:18,261 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 31 stream_type: 0
[I 2022-07-28 14:54:18,261 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:54:18.261 SpitfireMessaging:361] Sending request with transaction id 200 (0xc8)
[D Jul-28 14:54:18.261 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:18,261 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:54:18,261 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 134
[W 2022-07-28 14:54:18,402 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:18,402 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:18,558 apServerListener:0400] [:(] same prefetch_type received : streamId : bd6cf8600eb8476a85d7c0aec5e978a9 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:18,558 apServerListener:0409] [:(] ['Stream ', 'bd6cf8600eb8476a85d7c0aec5e978a9', ' FRONTED']
[I 2022-07-28 14:54:18,558 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:18,558 apServerListener:0415] [:(] 14:54:18.558326 SERVERSTATE streamId: bd6cf8600eb8476a85d7c0aec5e978a9 Update PLAYING stoppedReason: NA milliseconds: 1316 byte_offset 21698 total_length 0 prefetchReady: False prefetchType: 0
[D 2022-07-28 14:54:18,620 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:54:18,620 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:54:18,620 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:18,636 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:18,636 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:18,636 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:18,636 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:18,652 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 134
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:54:18,652 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid bd6cf8600eb8476a85d7c0aec5e978a9
[I 2022-07-28 14:54:18,652 apServerListener:0221] [:(] Wait for Stream Event STOPPED id bd6cf8600eb8476a85d7c0aec5e978a9
[I 2022-07-28 14:54:18,714 apServerListener:0288] [:(] TRANSPORT STOP url_id: 0 url_uuid: bd6cf8600eb8476a85d7c0aec5e978a9
[I 2022-07-28 14:54:18,714 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:54:19,230 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:19,230 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:19,417 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:19,417 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:19,667 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:19,667 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:19,667 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:19,745 apEventHandler:0041] [:(] Got Event: STOPPED
[I 2022-07-28 14:54:19,745 apServerListener:0400] [:(] same prefetch_type received : streamId : bd6cf8600eb8476a85d7c0aec5e978a9 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:19,761 apServerListener:0409] [:(] ['Stream ', 'bd6cf8600eb8476a85d7c0aec5e978a9', ' FRONTED']
[I 2022-07-28 14:54:19,761 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:19,761 apServerListener:0415] [:(] 14:54:19.745550 SERVERSTATE streamId: bd6cf8600eb8476a85d7c0aec5e978a9 Update STOPPED stoppedReason: Interrupted milliseconds: 1544 byte_offset 25154 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:19,870 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:54:19,870 apEventHandler:0041] [:(] Got Event: SUSPENDED
[W 2022-07-28 14:54:20,230 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:20,230 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:20,432 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:20,432 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:20,683 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:20,683 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:21,245 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:21,245 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:21,448 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:21,448 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:21,698 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:22,260 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:22,260 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:22,463 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:22,463 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:22,713 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:22,713 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:23,276 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:23,276 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:23,479 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:23,479 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:23,713 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:24,291 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:24,291 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:24,494 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:24,494 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:24,729 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:24,729 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[D 2022-07-28 14:54:24,760 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:24,760 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:24,760 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:24,807 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:24,807 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:24,807 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:24,807 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:24,807 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:24,807 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:24,869 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:24,869 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[E 2022-07-28 14:54:24,885 apServerListener:0659] [:(] GetHeadder : Socket timout
[I 2022-07-28 14:54:24,947 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:24,947 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[W 2022-07-28 14:54:25,307 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:25,307 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:25,494 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:25,494 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:25,744 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:25,744 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:25,744 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:25,744 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:25,744 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:25,744 sink_group:0086] [:(] set_latency_request: RIGHT
[I 2022-07-28 14:54:25,744 SpitfireAudioMessage:0669] [:(] Right: set_latency_request target: 50
[I 2022-07-28 14:54:25,744 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 36
[D Jul-28 14:54:25.744 SpitfireMessaging:361] Sending request with transaction id 201 (0xc9)
[D Jul-28 14:54:25.744 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:25,744 sink_group:0030] [:(] check_set_latency_response: RIGHT
[I 2022-07-28 14:54:25,744 SpitfireAudioMessage:0688] [:(] Right: check_set_latency_response
[I 2022-07-28 14:54:25,744 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 36 and request_id: 135
[I 2022-07-28 14:54:25,791 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 36, request_id: 135
 --- payload---
success: true
music {
  target: 50
  limits {
    max: 300
  }
}


[I 2022-07-28 14:54:25,791 helper_functions:0229] [:(] play_primary_stream url=http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3
[I 2022-07-28 14:54:25,791 apTestClient:0229] [:(]  SETURL
[I 2022-07-28 14:54:25,791 apTestClient:0287] [:(] url: "http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3"
url_is_realtime: false
connection_timeout_in_ms: 20000
buffering_timeout_in_ms: 180000
source_dryup_timeout_ms: 30000
source_retry_delay_ms: 5000
source_retry_count: 5
dist_range: MULTIROOM
url_uuid: "7cb33dc281e94b36a0b0d5b730f226d7"

[I 2022-07-28 14:54:25,791 apTestClient:0315] [:(] TRANSPORT CONTROL PLAY, url_id: 0  url_uuid 7cb33dc281e94b36a0b0d5b730f226d7
[I 2022-07-28 14:54:25,791 helper_functions:0232] [:(] primary stream urlUuid=7cb33dc281e94b36a0b0d5b730f226d7
[I 2022-07-28 14:54:25,791 apServerListener:0221] [:(] Wait for Stream Event PLAYING id 7cb33dc281e94b36a0b0d5b730f226d7
[I 2022-07-28 14:54:25,791 apServerListener:0572] [:(] VolumeControl 10
[I 2022-07-28 14:54:25,791 apEventHandler:0041] [:(] Got Event: VOLUMECONTROL
[I 2022-07-28 14:54:25,822 apServerListener:0249] [:(] SETURL Response 14:54:25.822509 url: True, url_id: http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3, url_uuid: 18
[I 2022-07-28 14:54:25,822 apEventHandler:0041] [:(] Got Event: SETURL
[I 2022-07-28 14:54:25,822 apEventHandler:0041] [:(] Got Event: CONNECTING
[I 2022-07-28 14:54:25,822 apServerListener:0395] [:(] different prefetch_type received : streamId : 7cb33dc281e94b36a0b0d5b730f226d7 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:25,822 apEventHandler:0041] [:(] Got Event: PREFETCH_TYPE
[I 2022-07-28 14:54:25,822 apServerListener:0398] [:(] ['Stream ', '7cb33dc281e94b36a0b0d5b730f226d7', ' PREFETCH_TYPE ', '0']
[I 2022-07-28 14:54:25,822 apServerListener:0409] [:(] ['Stream ', '7cb33dc281e94b36a0b0d5b730f226d7', ' FRONTED']
[I 2022-07-28 14:54:25,822 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:25,822 apServerListener:0415] [:(] 14:54:25.822509 SERVERSTATE streamId: 7cb33dc281e94b36a0b0d5b730f226d7 Update CONNECTING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:25,822 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:25,822 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:25,822 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:25,822 apServerListener:0288] [:(] TRANSPORT PLAY url_id: 0 url_uuid: 7cb33dc281e94b36a0b0d5b730f226d7
[I 2022-07-28 14:54:25,822 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
10.26.138.48 - - [28/Jul/2022 14:54:25] "GET /testfile_48k_3dBFS_1000Hz_10m.mp3 HTTP/1.1" 200 -
[I 220728 14:54:25.822 SampleMusicServer:39] [:(] FILESIZE 9731949
[I 2022-07-28 14:54:25,884 apServerListener:0482] [:(] SERVER IS UNSUSPENDED
[I 2022-07-28 14:54:25,884 apEventHandler:0041] [:(] Got Event: UNSUSPENDED
[I 2022-07-28 14:54:25,884 apEventHandler:0041] [:(] Got Event: BUFFERING
[I 2022-07-28 14:54:25,884 apServerListener:0400] [:(] same prefetch_type received : streamId : 7cb33dc281e94b36a0b0d5b730f226d7 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:25,884 apServerListener:0409] [:(] ['Stream ', '7cb33dc281e94b36a0b0d5b730f226d7', ' FRONTED']
[I 2022-07-28 14:54:25,884 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:25,884 apServerListener:0415] [:(] 14:54:25.884725 SERVERSTATE streamId: 7cb33dc281e94b36a0b0d5b730f226d7 Update BUFFERING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:25,884 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:25,884 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:25,884 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[W 2022-07-28 14:54:26,322 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:26,322 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:26,509 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:26,509 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:26,837 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:26,837 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:26,837 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:26,853 apEventHandler:0041] [:(] Got Event: PLAYING
[I 2022-07-28 14:54:26,853 apServerListener:0400] [:(] same prefetch_type received : streamId : 7cb33dc281e94b36a0b0d5b730f226d7 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:26,853 helper_functions:0234] [:(] play_stream is playing now
[I 2022-07-28 14:54:26,853 apServerListener:0409] [:(] ['Stream ', '7cb33dc281e94b36a0b0d5b730f226d7', ' FRONTED']
[I 2022-07-28 14:54:26,853 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:26,853 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:26,853 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:26,853 apServerListener:0415] [:(] 14:54:26.853256 SERVERSTATE streamId: 7cb33dc281e94b36a0b0d5b730f226d7 Update PLAYING stoppedReason: NA milliseconds: 8 byte_offset 578 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:26,853 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:26,853 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:26,853 apServerListener:0629] [:(] Stream state - isSilent: False
[I 2022-07-28 14:54:26,853 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[W 2022-07-28 14:54:27,337 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:27,337 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:27,524 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:27,524 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:27,524 apServerListener:0400] [:(] same prefetch_type received : streamId : 7cb33dc281e94b36a0b0d5b730f226d7 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:27,524 apServerListener:0409] [:(] ['Stream ', '7cb33dc281e94b36a0b0d5b730f226d7', ' FRONTED']
[I 2022-07-28 14:54:27,524 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:27,524 apServerListener:0415] [:(] 14:54:27.524963 SERVERSTATE streamId: 7cb33dc281e94b36a0b0d5b730f226d7 Update PLAYING stoppedReason: NA milliseconds: 692 byte_offset 11714 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:54:27,853 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:27,853 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[D 2022-07-28 14:54:28,134 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:28,134 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:28,134 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:28,134 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:28,134 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:28,134 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:54:28,353 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:28,353 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:28,525 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:28,525 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:28,540 apServerListener:0400] [:(] same prefetch_type received : streamId : 7cb33dc281e94b36a0b0d5b730f226d7 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:28,540 apServerListener:0409] [:(] ['Stream ', '7cb33dc281e94b36a0b0d5b730f226d7', ' FRONTED']
[I 2022-07-28 14:54:28,540 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:28,540 apServerListener:0415] [:(] 14:54:28.540354 SERVERSTATE streamId: 7cb33dc281e94b36a0b0d5b730f226d7 Update PLAYING stoppedReason: NA milliseconds: 1692 byte_offset 27458 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:28,680 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:28,680 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:28,680 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:28,680 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:28,868 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:28,868 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:28,868 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:28,868 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:28,868 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:28,868 sink_group:0057] [:(] check_audio_music_codec: BOTH
[I 2022-07-28 14:54:28,868 bt_spitfire_helper:0315] [:(] Right: check_audio_music_codec: SBC
[I 2022-07-28 14:54:28,915 bt_spitfire_helper:0278] [:(] Right: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:28,915 bt_spitfire_helper:0323] [:(] Right: Current codec SBC matches expected
[I 2022-07-28 14:54:28,915 bt_spitfire_helper:0315] [:(] Left: check_audio_music_codec: SBC
[I 2022-07-28 14:54:28,946 bt_spitfire_helper:0278] [:(] Left: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:28,946 bt_spitfire_helper:0323] [:(] Left: Current codec SBC matches expected
[I 2022-07-28 14:54:28,946 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:54:28,946 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 100
[I 2022-07-28 14:54:28,946 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:54:28,946 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 31
[I 2022-07-28 14:54:28,946 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 31 stream_type: 0
[I 2022-07-28 14:54:28,946 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:54:28.946 SpitfireMessaging:361] Sending request with transaction id 202 (0xca)
[D Jul-28 14:54:28.946 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:28,946 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:54:28,946 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 136
[I 2022-07-28 14:54:29,321 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:29,321 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:29,321 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:29,321 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:29,337 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 136
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:54:29,337 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid 7cb33dc281e94b36a0b0d5b730f226d7
[I 2022-07-28 14:54:29,337 apServerListener:0221] [:(] Wait for Stream Event STOPPED id 7cb33dc281e94b36a0b0d5b730f226d7
[W 2022-07-28 14:54:29,368 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:29,368 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:29,431 apServerListener:0288] [:(] TRANSPORT STOP url_id: 0 url_uuid: 7cb33dc281e94b36a0b0d5b730f226d7
[I 2022-07-28 14:54:29,431 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:54:29,540 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:29,540 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:30,009 apEventHandler:0041] [:(] Got Event: STOPPED
[I 2022-07-28 14:54:30,009 apServerListener:0400] [:(] same prefetch_type received : streamId : 7cb33dc281e94b36a0b0d5b730f226d7 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:30,009 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:30,009 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:30,009 apServerListener:0409] [:(] ['Stream ', '7cb33dc281e94b36a0b0d5b730f226d7', ' FRONTED']
[I 2022-07-28 14:54:30,009 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:30,009 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:30,009 apServerListener:0415] [:(] 14:54:30.009058 SERVERSTATE streamId: 7cb33dc281e94b36a0b0d5b730f226d7 Update STOPPED stoppedReason: Interrupted milliseconds: 2648 byte_offset 42818 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:30,102 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:54:30,102 apEventHandler:0041] [:(] Got Event: SUSPENDED
[W 2022-07-28 14:54:30,368 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:30,368 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:30,555 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:30,555 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:31,024 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:31,024 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:31,383 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:31,383 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:31,571 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:31,571 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:32,024 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:32,399 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:32,399 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:32,586 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:32,586 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:33,039 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:33,039 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:33,414 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:33,414 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:33,601 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:33,601 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:34,054 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:34,414 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:34,414 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:34,617 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:34,617 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:34,992 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:34,992 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:34,992 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:35,023 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:35,023 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:35,023 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:35,023 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:35,023 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:35,023 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:54:35,054 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:35,054 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:54:35,085 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:35,085 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[E 2022-07-28 14:54:35,117 apServerListener:0659] [:(] GetHeadder : Socket timout
[I 2022-07-28 14:54:35,117 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:35,117 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[W 2022-07-28 14:54:35,429 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:35,429 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:35,617 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:35,617 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:36,070 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:36,070 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:36,070 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:36,070 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:36,070 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:36,070 sink_group:0086] [:(] set_latency_request: RIGHT
[I 2022-07-28 14:54:36,070 SpitfireAudioMessage:0669] [:(] Right: set_latency_request target: 70
[I 2022-07-28 14:54:36,070 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 36
[D Jul-28 14:54:36.070 SpitfireMessaging:361] Sending request with transaction id 203 (0xcb)
[D Jul-28 14:54:36.085 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:36,085 sink_group:0030] [:(] check_set_latency_response: RIGHT
[I 2022-07-28 14:54:36,085 SpitfireAudioMessage:0688] [:(] Right: check_set_latency_response
[I 2022-07-28 14:54:36,085 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 36 and request_id: 137
[I 2022-07-28 14:54:36,132 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 36, request_id: 137
 --- payload---
success: true
music {
  target: 70
  limits {
    max: 300
  }
}


[I 2022-07-28 14:54:36,132 helper_functions:0229] [:(] play_primary_stream url=http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3
[I 2022-07-28 14:54:36,132 apTestClient:0229] [:(]  SETURL
[I 2022-07-28 14:54:36,132 apTestClient:0287] [:(] url: "http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3"
url_is_realtime: false
connection_timeout_in_ms: 20000
buffering_timeout_in_ms: 180000
source_dryup_timeout_ms: 30000
source_retry_delay_ms: 5000
source_retry_count: 5
dist_range: MULTIROOM
url_uuid: "3447efea0cde4beabc007d8aba83f07c"

[I 2022-07-28 14:54:36,132 apTestClient:0315] [:(] TRANSPORT CONTROL PLAY, url_id: 0  url_uuid 3447efea0cde4beabc007d8aba83f07c
[I 2022-07-28 14:54:36,132 helper_functions:0232] [:(] primary stream urlUuid=3447efea0cde4beabc007d8aba83f07c
[I 2022-07-28 14:54:36,132 apServerListener:0221] [:(] Wait for Stream Event PLAYING id 3447efea0cde4beabc007d8aba83f07c
[I 2022-07-28 14:54:36,132 apServerListener:0572] [:(] VolumeControl 10
[I 2022-07-28 14:54:36,132 apEventHandler:0041] [:(] Got Event: VOLUMECONTROL
[I 2022-07-28 14:54:36,179 apServerListener:0249] [:(] SETURL Response 14:54:36.179426 url: True, url_id: http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3, url_uuid: 19
[I 2022-07-28 14:54:36,179 apEventHandler:0041] [:(] Got Event: SETURL
[I 2022-07-28 14:54:36,179 apEventHandler:0041] [:(] Got Event: CONNECTING
[I 2022-07-28 14:54:36,179 apServerListener:0395] [:(] different prefetch_type received : streamId : 3447efea0cde4beabc007d8aba83f07c : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:36,179 apEventHandler:0041] [:(] Got Event: PREFETCH_TYPE
[I 2022-07-28 14:54:36,179 apServerListener:0398] [:(] ['Stream ', '3447efea0cde4beabc007d8aba83f07c', ' PREFETCH_TYPE ', '0']
[I 2022-07-28 14:54:36,179 apServerListener:0409] [:(] ['Stream ', '3447efea0cde4beabc007d8aba83f07c', ' FRONTED']
[I 2022-07-28 14:54:36,179 apEventHandler:0041] [:(] Got Event: FRONTED
10.26.138.48 - - [28/Jul/2022 14:54:36] "GET /testfile_48k_3dBFS_1000Hz_10m.mp3 HTTP/1.1" 200 -
[I 2022-07-28 14:54:36,179 apServerListener:0415] [:(] 14:54:36.179426 SERVERSTATE streamId: 3447efea0cde4beabc007d8aba83f07c Update CONNECTING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 220728 14:54:36.179 SampleMusicServer:39] [:(] FILESIZE 9731949
[I 2022-07-28 14:54:36,179 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:36,194 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:36,194 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:36,194 apServerListener:0288] [:(] TRANSPORT PLAY url_id: 0 url_uuid: 3447efea0cde4beabc007d8aba83f07c
[I 2022-07-28 14:54:36,194 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[I 2022-07-28 14:54:36,226 apServerListener:0482] [:(] SERVER IS UNSUSPENDED
[I 2022-07-28 14:54:36,226 apEventHandler:0041] [:(] Got Event: UNSUSPENDED
[I 2022-07-28 14:54:36,226 apEventHandler:0041] [:(] Got Event: BUFFERING
[I 2022-07-28 14:54:36,226 apServerListener:0400] [:(] same prefetch_type received : streamId : 3447efea0cde4beabc007d8aba83f07c : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:36,226 apServerListener:0409] [:(] ['Stream ', '3447efea0cde4beabc007d8aba83f07c', ' FRONTED']
[I 2022-07-28 14:54:36,226 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:36,226 apServerListener:0415] [:(] 14:54:36.226007 SERVERSTATE streamId: 3447efea0cde4beabc007d8aba83f07c Update BUFFERING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:36,226 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:36,226 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:36,226 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[W 2022-07-28 14:54:36,445 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:36,445 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:36,632 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:36,632 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:37,179 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:37,179 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:37,179 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:37,194 apEventHandler:0041] [:(] Got Event: PLAYING
[I 2022-07-28 14:54:37,194 apServerListener:0400] [:(] same prefetch_type received : streamId : 3447efea0cde4beabc007d8aba83f07c : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:37,194 helper_functions:0234] [:(] play_stream is playing now
[I 2022-07-28 14:54:37,194 apServerListener:0409] [:(] ['Stream ', '3447efea0cde4beabc007d8aba83f07c', ' FRONTED']
[I 2022-07-28 14:54:37,194 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:37,194 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:37,194 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:37,194 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:37,194 apServerListener:0415] [:(] 14:54:37.194605 SERVERSTATE streamId: 3447efea0cde4beabc007d8aba83f07c Update PLAYING stoppedReason: NA milliseconds: 12 byte_offset 578 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:37,194 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:37,194 apServerListener:0629] [:(] Stream state - isSilent: False
[I 2022-07-28 14:54:37,194 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[W 2022-07-28 14:54:37,460 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:37,460 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:37,507 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:37,507 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:37,507 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:37,507 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:37,507 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:37,507 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:37,507 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:37,507 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:37,507 sink_group:0057] [:(] check_audio_music_codec: BOTH
[I 2022-07-28 14:54:37,507 bt_spitfire_helper:0315] [:(] Right: check_audio_music_codec: SBC
[D 2022-07-28 14:54:37,522 bt_notification:0349] [:(] _source_connection_status_cb
[I 2022-07-28 14:54:37,522 apServerListener:0400] [:(] same prefetch_type received : streamId : 3447efea0cde4beabc007d8aba83f07c : prefetch_type : SEQUENTIAL
[D 2022-07-28 14:54:37,522 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[I 2022-07-28 14:54:37,522 apServerListener:0409] [:(] ['Stream ', '3447efea0cde4beabc007d8aba83f07c', ' FRONTED']
[D 2022-07-28 14:54:37,522 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[I 2022-07-28 14:54:37,522 apEventHandler:0041] [:(] Got Event: FRONTED
[D 2022-07-28 14:54:37,522 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[I 2022-07-28 14:54:37,522 apServerListener:0415] [:(] 14:54:37.522714 SERVERSTATE streamId: 3447efea0cde4beabc007d8aba83f07c Update PLAYING stoppedReason: NA milliseconds: 352 byte_offset 5954 total_length 0 prefetchReady: False prefetchType: 0
[D 2022-07-28 14:54:37,522 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:37,522 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:37,569 bt_spitfire_helper:0278] [:(] Right: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:37,569 bt_spitfire_helper:0323] [:(] Right: Current codec SBC matches expected
[I 2022-07-28 14:54:37,569 bt_spitfire_helper:0315] [:(] Left: check_audio_music_codec: SBC
[I 2022-07-28 14:54:37,600 bt_spitfire_helper:0278] [:(] Left: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:37,600 bt_spitfire_helper:0323] [:(] Left: Current codec SBC matches expected
[I 2022-07-28 14:54:37,600 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:54:37,600 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 100
[I 2022-07-28 14:54:37,600 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:54:37,600 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 31
[I 2022-07-28 14:54:37,600 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 31 stream_type: 0
[I 2022-07-28 14:54:37,600 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:54:37.600 SpitfireMessaging:361] Sending request with transaction id 204 (0xcc)
[D Jul-28 14:54:37.600 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:37,600 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:54:37,600 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 138
[W 2022-07-28 14:54:37,647 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:37,647 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:37,960 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:37,960 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:37,975 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 138
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:54:37,975 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:37,975 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid 3447efea0cde4beabc007d8aba83f07c
[I 2022-07-28 14:54:37,975 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:37,991 apServerListener:0221] [:(] Wait for Stream Event STOPPED id 3447efea0cde4beabc007d8aba83f07c
[I 2022-07-28 14:54:37,991 apServerListener:0288] [:(] TRANSPORT STOP url_id: 0 url_uuid: 3447efea0cde4beabc007d8aba83f07c
[I 2022-07-28 14:54:37,991 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:54:38,475 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:38,475 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:38,663 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:38,663 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:38,991 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:38,991 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:38,991 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:39,069 apEventHandler:0041] [:(] Got Event: STOPPED
[I 2022-07-28 14:54:39,069 apServerListener:0400] [:(] same prefetch_type received : streamId : 3447efea0cde4beabc007d8aba83f07c : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:39,069 apServerListener:0409] [:(] ['Stream ', '3447efea0cde4beabc007d8aba83f07c', ' FRONTED']
[I 2022-07-28 14:54:39,069 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:39,069 apServerListener:0415] [:(] 14:54:39.069414 SERVERSTATE streamId: 3447efea0cde4beabc007d8aba83f07c Update STOPPED stoppedReason: Interrupted milliseconds: 896 byte_offset 14786 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:39,116 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:54:39,116 apEventHandler:0041] [:(] Got Event: SUSPENDED
[W 2022-07-28 14:54:39,491 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:39,491 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:39,678 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:39,678 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:40,006 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:40,006 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:40,506 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:40,506 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:40,694 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:40,694 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:41,022 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:41,506 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:41,506 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:41,709 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:41,709 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:42,037 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:42,037 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:42,521 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:42,521 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:42,709 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:42,709 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:43,052 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:43,536 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:43,536 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:43,724 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:43,724 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:44,067 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:44,067 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[D 2022-07-28 14:54:44,099 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:44,099 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:44,099 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:44,130 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:44,130 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:44,130 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:44,130 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:44,130 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:44,130 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[E 2022-07-28 14:54:44,146 apServerListener:0659] [:(] GetHeadder : Socket timout
[I 2022-07-28 14:54:44,193 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:44,193 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:44,286 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:44,286 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[W 2022-07-28 14:54:44,536 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:44,536 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:44,739 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:44,739 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:45,068 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:45,068 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:45,068 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:45,068 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:45,068 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:45,068 sink_group:0086] [:(] set_latency_request: RIGHT
[I 2022-07-28 14:54:45,068 SpitfireAudioMessage:0669] [:(] Right: set_latency_request target: 100
[I 2022-07-28 14:54:45,068 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 36
[D Jul-28 14:54:45.068 SpitfireMessaging:361] Sending request with transaction id 205 (0xcd)
[D Jul-28 14:54:45.068 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:45,068 sink_group:0030] [:(] check_set_latency_response: RIGHT
[I 2022-07-28 14:54:45,068 SpitfireAudioMessage:0688] [:(] Right: check_set_latency_response
[I 2022-07-28 14:54:45,068 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 36 and request_id: 139
[I 2022-07-28 14:54:45,114 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 36, request_id: 139
 --- payload---
success: true
music {
  target: 100
  limits {
    max: 300
  }
}


[I 2022-07-28 14:54:45,114 helper_functions:0229] [:(] play_primary_stream url=http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3
[I 2022-07-28 14:54:45,114 apTestClient:0229] [:(]  SETURL
[I 2022-07-28 14:54:45,114 apTestClient:0287] [:(] url: "http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3"
url_is_realtime: false
connection_timeout_in_ms: 20000
buffering_timeout_in_ms: 180000
source_dryup_timeout_ms: 30000
source_retry_delay_ms: 5000
source_retry_count: 5
dist_range: MULTIROOM
url_uuid: "c821c4767cd745218e5b56a76447d11b"

[I 2022-07-28 14:54:45,114 apTestClient:0315] [:(] TRANSPORT CONTROL PLAY, url_id: 0  url_uuid c821c4767cd745218e5b56a76447d11b
[I 2022-07-28 14:54:45,114 helper_functions:0232] [:(] primary stream urlUuid=c821c4767cd745218e5b56a76447d11b
[I 2022-07-28 14:54:45,114 apServerListener:0221] [:(] Wait for Stream Event PLAYING id c821c4767cd745218e5b56a76447d11b
[I 2022-07-28 14:54:45,130 apServerListener:0572] [:(] VolumeControl 10
[I 2022-07-28 14:54:45,130 apEventHandler:0041] [:(] Got Event: VOLUMECONTROL
[I 2022-07-28 14:54:45,146 apServerListener:0249] [:(] SETURL Response 14:54:45.146084 url: True, url_id: http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3, url_uuid: 20
[I 2022-07-28 14:54:45,146 apEventHandler:0041] [:(] Got Event: SETURL
[I 2022-07-28 14:54:45,146 apEventHandler:0041] [:(] Got Event: CONNECTING
[I 2022-07-28 14:54:45,146 apServerListener:0395] [:(] different prefetch_type received : streamId : c821c4767cd745218e5b56a76447d11b : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:45,146 apEventHandler:0041] [:(] Got Event: PREFETCH_TYPE
[I 2022-07-28 14:54:45,146 apServerListener:0398] [:(] ['Stream ', 'c821c4767cd745218e5b56a76447d11b', ' PREFETCH_TYPE ', '0']
[I 2022-07-28 14:54:45,146 apServerListener:0409] [:(] ['Stream ', 'c821c4767cd745218e5b56a76447d11b', ' FRONTED']
[I 2022-07-28 14:54:45,161 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:45,161 apServerListener:0415] [:(] 14:54:45.146084 SERVERSTATE streamId: c821c4767cd745218e5b56a76447d11b Update CONNECTING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
10.26.138.48 - - [28/Jul/2022 14:54:45] "GET /testfile_48k_3dBFS_1000Hz_10m.mp3 HTTP/1.1" 200 -
[I 2022-07-28 14:54:45,161 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 220728 14:54:45.161 SampleMusicServer:39] [:(] FILESIZE 9731949
[I 2022-07-28 14:54:45,161 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:45,161 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:45,161 apServerListener:0288] [:(] TRANSPORT PLAY url_id: 0 url_uuid: c821c4767cd745218e5b56a76447d11b
[I 2022-07-28 14:54:45,161 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[I 2022-07-28 14:54:45,208 apServerListener:0482] [:(] SERVER IS UNSUSPENDED
[I 2022-07-28 14:54:45,208 apEventHandler:0041] [:(] Got Event: UNSUSPENDED
[I 2022-07-28 14:54:45,208 apEventHandler:0041] [:(] Got Event: BUFFERING
[I 2022-07-28 14:54:45,208 apServerListener:0400] [:(] same prefetch_type received : streamId : c821c4767cd745218e5b56a76447d11b : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:45,208 apServerListener:0409] [:(] ['Stream ', 'c821c4767cd745218e5b56a76447d11b', ' FRONTED']
[I 2022-07-28 14:54:45,208 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:45,208 apServerListener:0415] [:(] 14:54:45.208565 SERVERSTATE streamId: c821c4767cd745218e5b56a76447d11b Update BUFFERING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:45,208 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:45,208 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:45,208 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[W 2022-07-28 14:54:45,552 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:45,552 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:45,739 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:45,739 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:46,161 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:46,161 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:46,161 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:46,177 apEventHandler:0041] [:(] Got Event: PLAYING
[I 2022-07-28 14:54:46,177 apServerListener:0400] [:(] same prefetch_type received : streamId : c821c4767cd745218e5b56a76447d11b : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:46,177 helper_functions:0234] [:(] play_stream is playing now
[I 2022-07-28 14:54:46,177 apServerListener:0409] [:(] ['Stream ', 'c821c4767cd745218e5b56a76447d11b', ' FRONTED']
[I 2022-07-28 14:54:46,177 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:46,177 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:46,177 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:46,177 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:46,177 apServerListener:0415] [:(] 14:54:46.177046 SERVERSTATE streamId: c821c4767cd745218e5b56a76447d11b Update PLAYING stoppedReason: NA milliseconds: 8 byte_offset 578 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:46,177 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:46,177 apServerListener:0629] [:(] Stream state - isSilent: False
[I 2022-07-28 14:54:46,177 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:46,520 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:46,520 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:46,520 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:46,520 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:46,520 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:46,520 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:46,520 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:46,520 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:46,520 sink_group:0057] [:(] check_audio_music_codec: BOTH
[I 2022-07-28 14:54:46,520 bt_spitfire_helper:0315] [:(] Right: check_audio_music_codec: SBC
[I 2022-07-28 14:54:46,520 apServerListener:0400] [:(] same prefetch_type received : streamId : c821c4767cd745218e5b56a76447d11b : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:46,520 apServerListener:0409] [:(] ['Stream ', 'c821c4767cd745218e5b56a76447d11b', ' FRONTED']
[I 2022-07-28 14:54:46,536 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:46,536 apServerListener:0415] [:(] 14:54:46.520454 SERVERSTATE streamId: c821c4767cd745218e5b56a76447d11b Update PLAYING stoppedReason: NA milliseconds: 364 byte_offset 6338 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:46,551 bt_spitfire_helper:0278] [:(] Right: aud.a2dpcodec response: 'A2DP codec: SBC'
[D 2022-07-28 14:54:46,551 bt_notification:0349] [:(] _source_connection_status_cb
[I 2022-07-28 14:54:46,551 bt_spitfire_helper:0323] [:(] Right: Current codec SBC matches expected
[D 2022-07-28 14:54:46,551 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[I 2022-07-28 14:54:46,551 bt_spitfire_helper:0315] [:(] Left: check_audio_music_codec: SBC
[D 2022-07-28 14:54:46,551 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:46,551 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:46,551 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:46,551 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:54:46,567 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:46,567 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:46,598 bt_spitfire_helper:0278] [:(] Left: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:46,598 bt_spitfire_helper:0323] [:(] Left: Current codec SBC matches expected
[I 2022-07-28 14:54:46,598 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:54:46,598 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 100
[I 2022-07-28 14:54:46,598 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:54:46,598 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 31
[I 2022-07-28 14:54:46,598 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 31 stream_type: 0
[I 2022-07-28 14:54:46,598 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:54:46.598 SpitfireMessaging:361] Sending request with transaction id 206 (0xce)
[D Jul-28 14:54:46.598 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:46,598 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:54:46,598 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 140
[W 2022-07-28 14:54:46,755 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:46,755 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:46,973 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:46,973 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:46,973 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:46,973 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:46,989 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 140
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:54:46,989 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid c821c4767cd745218e5b56a76447d11b
[I 2022-07-28 14:54:46,989 apServerListener:0221] [:(] Wait for Stream Event STOPPED id c821c4767cd745218e5b56a76447d11b
[I 2022-07-28 14:54:47,067 apServerListener:0288] [:(] TRANSPORT STOP url_id: 0 url_uuid: c821c4767cd745218e5b56a76447d11b
[I 2022-07-28 14:54:47,067 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:54:47,583 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:47,583 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:47,770 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:47,770 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:48,004 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:48,004 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:48,004 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:48,161 apEventHandler:0041] [:(] Got Event: STOPPED
[I 2022-07-28 14:54:48,161 apServerListener:0400] [:(] same prefetch_type received : streamId : c821c4767cd745218e5b56a76447d11b : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:48,161 apServerListener:0409] [:(] ['Stream ', 'c821c4767cd745218e5b56a76447d11b', ' FRONTED']
[I 2022-07-28 14:54:48,161 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:48,161 apServerListener:0415] [:(] 14:54:48.161061 SERVERSTATE streamId: c821c4767cd745218e5b56a76447d11b Update STOPPED stoppedReason: Interrupted milliseconds: 988 byte_offset 16322 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:48,285 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:54:48,285 apEventHandler:0041] [:(] Got Event: SUSPENDED
[W 2022-07-28 14:54:48,598 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:48,598 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:48,785 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:48,785 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:49,020 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:49,020 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:49,613 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:49,613 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:49,801 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:49,801 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:50,035 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:50,628 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:50,628 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:50,816 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:50,816 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:51,035 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:51,035 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:51,628 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:51,628 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:51,831 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:51,831 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:52,050 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:52,644 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:52,644 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:52,831 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:52,831 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:53,065 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:53,065 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[D 2022-07-28 14:54:53,159 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:54:53,175 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:54:53,175 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:54:53,222 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:53,222 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:53,222 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:53,222 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:53,222 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:53,222 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:53,284 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:53,284 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[E 2022-07-28 14:54:53,300 apServerListener:0659] [:(] GetHeadder : Socket timout
[I 2022-07-28 14:54:53,331 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:53,331 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[W 2022-07-28 14:54:53,659 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:53,659 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:53,847 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:53,847 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:54,065 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:54,065 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:54,065 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:54,065 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:54,065 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:54:54,065 sink_group:0086] [:(] set_latency_request: RIGHT
[I 2022-07-28 14:54:54,065 SpitfireAudioMessage:0669] [:(] Right: set_latency_request target: 150
[I 2022-07-28 14:54:54,065 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 36
[D Jul-28 14:54:54.065 SpitfireMessaging:361] Sending request with transaction id 207 (0xcf)
[D Jul-28 14:54:54.081 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:54,081 sink_group:0030] [:(] check_set_latency_response: RIGHT
[I 2022-07-28 14:54:54,081 SpitfireAudioMessage:0688] [:(] Right: check_set_latency_response
[I 2022-07-28 14:54:54,081 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 36 and request_id: 141
[I 2022-07-28 14:54:54,112 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 36, request_id: 141
 --- payload---
success: true
music {
  target: 150
  limits {
    max: 300
  }
}


[I 2022-07-28 14:54:54,112 helper_functions:0229] [:(] play_primary_stream url=http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3
[I 2022-07-28 14:54:54,112 apTestClient:0229] [:(]  SETURL
[I 2022-07-28 14:54:54,112 apTestClient:0287] [:(] url: "http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3"
url_is_realtime: false
connection_timeout_in_ms: 20000
buffering_timeout_in_ms: 180000
source_dryup_timeout_ms: 30000
source_retry_delay_ms: 5000
source_retry_count: 5
dist_range: MULTIROOM
url_uuid: "6ac096837c09429fbd55855136d79f79"

[I 2022-07-28 14:54:54,112 apTestClient:0315] [:(] TRANSPORT CONTROL PLAY, url_id: 0  url_uuid 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:54:54,112 helper_functions:0232] [:(] primary stream urlUuid=6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:54:54,112 apServerListener:0221] [:(] Wait for Stream Event PLAYING id 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:54:54,128 apServerListener:0572] [:(] VolumeControl 10
[I 2022-07-28 14:54:54,128 apEventHandler:0041] [:(] Got Event: VOLUMECONTROL
[I 2022-07-28 14:54:54,143 apServerListener:0249] [:(] SETURL Response 14:54:54.143724 url: True, url_id: http://10.26.138.25:28877/testfile_48k_3dBFS_1000Hz_10m.mp3, url_uuid: 21
[I 2022-07-28 14:54:54,143 apEventHandler:0041] [:(] Got Event: SETURL
[I 2022-07-28 14:54:54,143 apEventHandler:0041] [:(] Got Event: CONNECTING
[I 2022-07-28 14:54:54,143 apServerListener:0395] [:(] different prefetch_type received : streamId : 6ac096837c09429fbd55855136d79f79 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:54,143 apEventHandler:0041] [:(] Got Event: PREFETCH_TYPE
[I 2022-07-28 14:54:54,143 apServerListener:0398] [:(] ['Stream ', '6ac096837c09429fbd55855136d79f79', ' PREFETCH_TYPE ', '0']
[I 2022-07-28 14:54:54,143 apServerListener:0409] [:(] ['Stream ', '6ac096837c09429fbd55855136d79f79', ' FRONTED']
[I 2022-07-28 14:54:54,143 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:54,143 apServerListener:0415] [:(] 14:54:54.143724 SERVERSTATE streamId: 6ac096837c09429fbd55855136d79f79 Update CONNECTING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:54,143 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:54,143 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:54,143 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:54,143 apServerListener:0288] [:(] TRANSPORT PLAY url_id: 0 url_uuid: 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:54:54,143 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
10.26.138.48 - - [28/Jul/2022 14:54:54] "GET /testfile_48k_3dBFS_1000Hz_10m.mp3 HTTP/1.1" 200 -
[I 220728 14:54:54.159 SampleMusicServer:39] [:(] FILESIZE 9731949
[I 2022-07-28 14:54:54,206 apServerListener:0482] [:(] SERVER IS UNSUSPENDED
[I 2022-07-28 14:54:54,206 apEventHandler:0041] [:(] Got Event: UNSUSPENDED
[I 2022-07-28 14:54:54,206 apEventHandler:0041] [:(] Got Event: BUFFERING
[I 2022-07-28 14:54:54,206 apServerListener:0400] [:(] same prefetch_type received : streamId : 6ac096837c09429fbd55855136d79f79 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:54,206 apServerListener:0409] [:(] ['Stream ', '6ac096837c09429fbd55855136d79f79', ' FRONTED']
[I 2022-07-28 14:54:54,206 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:54,206 apServerListener:0415] [:(] 14:54:54.206176 SERVERSTATE streamId: 6ac096837c09429fbd55855136d79f79 Update BUFFERING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:54,206 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:54,206 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:54:54,206 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[W 2022-07-28 14:54:54,659 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:54,659 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:54,862 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:54,862 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:54:55,174 bt_notification:0397] [:(] _source_app_status_cb
[I 2022-07-28 14:54:55,174 apEventHandler:0041] [:(] Got Event: PLAYING
[D 2022-07-28 14:54:55,174 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[I 2022-07-28 14:54:55,174 apServerListener:0400] [:(] same prefetch_type received : streamId : 6ac096837c09429fbd55855136d79f79 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:55,174 helper_functions:0234] [:(] play_stream is playing now
[D 2022-07-28 14:54:55,174 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:55,174 apServerListener:0409] [:(] ['Stream ', '6ac096837c09429fbd55855136d79f79', ' FRONTED']
[I 2022-07-28 14:54:55,174 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:55,174 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:55,174 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:55,174 apServerListener:0415] [:(] 14:54:55.174964 SERVERSTATE streamId: 6ac096837c09429fbd55855136d79f79 Update PLAYING stoppedReason: NA milliseconds: 12 byte_offset 578 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:55,174 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:55,174 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:54:55,174 apServerListener:0629] [:(] Stream state - isSilent: False
[I 2022-07-28 14:54:55,174 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:54:55,299 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:55,299 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:54:55,299 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:55,299 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:55,299 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:55,299 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:55,299 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:54:55,299 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:54:55,299 sink_group:0057] [:(] check_audio_music_codec: BOTH
[I 2022-07-28 14:54:55,299 bt_spitfire_helper:0315] [:(] Right: check_audio_music_codec: SBC
[D 2022-07-28 14:54:55,299 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:54:55,299 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:54:55,315 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:54:55,315 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:54:55,315 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:54:55,315 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:54:55,346 bt_spitfire_helper:0278] [:(] Right: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:55,346 bt_spitfire_helper:0323] [:(] Right: Current codec SBC matches expected
[I 2022-07-28 14:54:55,346 bt_spitfire_helper:0315] [:(] Left: check_audio_music_codec: SBC
[I 2022-07-28 14:54:55,377 bt_spitfire_helper:0278] [:(] Left: aud.a2dpcodec response: 'A2DP codec: SBC'
[I 2022-07-28 14:54:55,377 bt_spitfire_helper:0323] [:(] Left: Current codec SBC matches expected
[I 2022-07-28 14:54:55,377 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:54:55,377 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 100
[I 2022-07-28 14:54:55,377 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:54:55,377 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 31
[I 2022-07-28 14:54:55,377 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 31 stream_type: 0
[I 2022-07-28 14:54:55,377 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:54:55.377 SpitfireMessaging:361] Sending request with transaction id 208 (0xd0)
[D Jul-28 14:54:55.377 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:54:55,377 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:54:55,377 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 142
[I 2022-07-28 14:54:55,565 apServerListener:0400] [:(] same prefetch_type received : streamId : 6ac096837c09429fbd55855136d79f79 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:55,565 apServerListener:0409] [:(] ['Stream ', '6ac096837c09429fbd55855136d79f79', ' FRONTED']
[I 2022-07-28 14:54:55,565 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:55,565 apServerListener:0415] [:(] 14:54:55.565518 SERVERSTATE streamId: 6ac096837c09429fbd55855136d79f79 Update PLAYING stoppedReason: NA milliseconds: 368 byte_offset 6338 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:54:55,674 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:55,674 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:55,752 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:55,752 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:55,752 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:54:55,752 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:54:55,768 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 142
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:54:55,768 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:54:55,768 apServerListener:0221] [:(] Wait for Stream Event STOPPED id 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:54:55,815 apServerListener:0288] [:(] TRANSPORT STOP url_id: 0 url_uuid: 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:54:55,815 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:54:55,877 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:55,877 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:56,690 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:56,690 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:56,783 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:54:56,783 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:54:56,783 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:56,877 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:56,877 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:56,908 apEventHandler:0041] [:(] Got Event: STOPPED
[I 2022-07-28 14:54:56,908 apServerListener:0400] [:(] same prefetch_type received : streamId : 6ac096837c09429fbd55855136d79f79 : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:54:56,908 apServerListener:0409] [:(] ['Stream ', '6ac096837c09429fbd55855136d79f79', ' FRONTED']
[I 2022-07-28 14:54:56,908 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:54:56,908 apServerListener:0415] [:(] 14:54:56.908963 SERVERSTATE streamId: 6ac096837c09429fbd55855136d79f79 Update STOPPED stoppedReason: Interrupted milliseconds: 740 byte_offset 12482 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:54:57,002 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:54:57,002 apEventHandler:0041] [:(] Got Event: SUSPENDED
[W 2022-07-28 14:54:57,705 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:57,705 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:57,799 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:57,799 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:57,893 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:57,893 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:58,720 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:58,720 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:54:58,799 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:54:58,908 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:58,908 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:59,736 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:59,736 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:54:59,814 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:54:59,814 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:54:59,923 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:54:59,923 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:00,751 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:00,751 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:00,829 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:55:00,939 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:00,939 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:01,751 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:01,751 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:01,845 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:55:01,845 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[D 2022-07-28 14:55:01,923 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:01,923 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:01,923 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:01,954 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:01,954 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:01,969 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:01,969 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:01,969 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:55:01,969 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:55:01,969 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:55:01,969 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[E 2022-07-28 14:55:02,016 apServerListener:0659] [:(] GetHeadder : Socket timout
[I 2022-07-28 14:55:02,032 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:55:02,032 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:55:02,110 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:55:02,110 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[W 2022-07-28 14:55:02,766 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:02,766 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:02,860 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:55:02,860 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:55:02,860 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:55:02,860 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:55:02,860 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:55:02,860 conftest:0697] [:(] -----------------------
[I 2022-07-28 14:55:02,860 conftest:0698] [:(] TEST PASSED
[I 2022-07-28 14:55:02,860 conftest:0699] [:(] Test: test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_latency[False-src_dev1_Smalls__captureChannels_-testfile_48k_3dBFS_1000Hz_10m.mp3-48000]
[I 2022-07-28 14:55:02,860 conftest:0700] [:(] DateTime: 2022-07-28 14:55:02.860700
[I 2022-07-28 14:55:02,860 conftest:0701] [:(] ------------------------
PASSED[I 2022-07-28 14:55:02,860 test_a2dp_play:0078] [:(] ---------------START TEARDOWN---------------------
[I 2022-07-28 14:55:02,860 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:55:02,860 apServerListener:0221] [:(] Wait for Stream Event STOPPED id 6ac096837c09429fbd55855136d79f79
[I 2022-07-28 14:55:02,860 helper_functions:0068] [:(] is_source_connected
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/status
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/status', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 166}}
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:02,860 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 166,
        "resource": "/bluetooth/source/status",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 166,
        "resource": "/bluetooth/source/status",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:02,860 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/status
[D 2022-07-28 14:55:02,922 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:02,969 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[W 2022-07-28 14:55:02,969 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:03,047 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:03,047 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 166,
        "resource": "/bluetooth/source/status",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:03,047 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:03,047 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:03,047 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:03,047 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:03.047 SpitfireMessaging:361] Sending request with transaction id 209 (0xd1)
[D Jul-28 14:55:03.047 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:03,047 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 68
[I 2022-07-28 14:55:03,094 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 68
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:03,094 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:03,094 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/disconnect
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0379] [:(] Enveloping data: {
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/disconnect', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 167}}
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 167,
        "resource": "/bluetooth/source/disconnect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 167,
        "resource": "/bluetooth/source/disconnect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:03,094 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/disconnect
[D 2022-07-28 14:55:03,157 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:03,157 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTING expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:03,188 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:03,204 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(tel): context= 0
[I 2022-07-28 14:55:03,250 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[I 2022-07-28 14:55:03,266 SpitfireComponentMessaging:0082] [:(] Right: Got 'tel' Event: 0
 --- Data ---
status: TEL_PROFILE_DISCONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:55:03,282 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[I 2022-07-28 14:55:03,375 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 0
[D 2022-07-28 14:55:03,344 bt_notification:0397] [:(] _source_app_status_cb
[I 2022-07-28 14:55:03,500 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 0
 --- Data ---
status: PROFILE_DISCONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[D 2022-07-28 14:55:03,547 bt_notification:0401] [:(] _source_app_status_cb received = APP_DISCONNECTING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:03,594 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_DISCONNECTING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 167,
        "resource": "/bluetooth/source/disconnect",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:03,657 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:03,657 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTING expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:03,657 bt_notification:0359] [:(] _source_connection_status_cb received = False expected = True
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0376] [:(] Sending POST to /system/power/control
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": false,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0379] [:(] Enveloping data: {
    "power": "OFF"
}
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/system/power/control', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 168}}
[D 2022-07-28 14:55:03,657 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "power": "OFF"
}
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_SPP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 168,
        "resource": "/system/power/control",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:03,657 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 168,
        "resource": "/system/power/control",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_HFAG",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:03,657 FrontDoorAPI:0392] [:(] Getting the response for: /system/power/control
[D 2022-07-28 14:55:03,657 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:03,688 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_AVRCP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:03,828 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:03,860 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:03,922 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:04,031 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:04,031 bt_notification:0359] [:(] _source_connection_status_cb received = False expected = True
[W 2022-07-28 14:55:04,078 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[D 2022-07-28 14:55:04,078 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": false,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:04,078 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:04,235 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:04,266 bt_notification:0401] [:(] _source_app_status_cb received = APP_NOT_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:04,313 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "devices": [
            {
                "deviceClass": "000000",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                }
            }
        ],
        "status": "APP_NOT_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:04,453 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:04,485 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_A2DP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:04,547 bt_notification:0586] [:(] _acl_status_cb
[I 2022-07-28 14:55:04,594 bt_notification:0587] [:(] {'header': {'device': 'b13a8018-0ead-1570-8a2a-b936b18bd42c', 'resource': '/bluetooth/aclConnectionStatus', 'method': 'NOTIFY', 'version': 1.0}, 'body': {'is_connected': False, 'mac': '78:2b:64:7c:45:be', 'reason': 22, 'type': 'CLASSIC'}}
[D 2022-07-28 14:55:04,688 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "is_connected": false,
        "mac": "78:2b:64:7c:45:be",
        "reason": 22,
        "type": "CLASSIC"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/aclConnectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:04,734 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 168,
        "resource": "/system/power/control",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:04,906 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:04,906 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:05,188 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:05,188 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:05,906 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:05,906 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:06,203 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:06,203 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:06,750 bt_notification:0572] [:(] wait_for_acl_disconnected_notification
[I 2022-07-28 14:55:06,750 sink_group:0030] [:(] clear_audio_stream_status: BOTH
[I 2022-07-28 14:55:06,750 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:06,750 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:06,750 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:06,750 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:06,750 sink_group:0030] [:(] clear_smartanr_power_status_event: BOTH
[I 2022-07-28 14:55:06,750 SpitfireComponentMessaging:0323] [:(] Right: clear_event(anr): event_id: 3
[I 2022-07-28 14:55:06,750 SpitfireComponentMessaging:0323] [:(] Left: clear_event(anr): event_id: 3
[I 2022-07-28 14:55:06,750 test_a2dp_play:0115] [:(] -----------------END TEARDOWN---------------------
[I 2022-07-28 14:55:06,750 conftest:0267] [:(] Stopping music server
[I 220728 14:55:06.750 SampleMusicServer:76] [:(] stopping sample music server...
[I 2022-07-28 14:55:06,750 conftest:0311] [:(] Closing apclient
[I 2022-07-28 14:55:06,750 apServerListener:0662] [:(] *****************HEADER READ EXCEPTION****************
[I 2022-07-28 14:55:06,750 apServerListener:0663] [:(] Error in header read
Traceback (most recent call last):
  File "C:\Users\111440\SpitfireWorkspace\testEnv\lib\site-packages\CastleAudioPathClientPyProto\APClient_py\apServerListener.py", line 657, in getHeader
    header = self.sock.recv(headerLen)
OSError: [WinError 10038] An operation was attempted on something that is not a socket
[I 2022-07-28 14:55:06,750 apServerListener:0664] [:(] ******************************************************
Closing socket
[I 2022-07-28 14:55:06,750 apFeatureFlags:0208] [:(] config not updated !!!
[I 2022-07-28 14:55:06,750 conftest:0314] [:(] apclient closed
[I 2022-07-28 14:55:06,750 apTestClient:0143] [:(] ServerListener is None

test_a2dp_play.py::TestA2DP_play::test_a2dp_hw_control_for_cervelo[False-src_dev1_Smalls_] [I 2022-07-28 14:55:06,750 conftest:0663] [:(] --------------------------------------------
[I 2022-07-28 14:55:06,750 conftest:0664] [:(] function    : test_a2dp_hw_control_for_cervelo
[I 2022-07-28 14:55:06,750 conftest:0665] [:(] test name   : test_a2dp_play.py::TestA2DP_play::test_a2dp_hw_control_for_cervelo[False-src_dev1_Smalls_]
[I 2022-07-28 14:55:06,750 conftest:0666] [:(] time        : Thu Jul 28 14:55:06 2022
[I 2022-07-28 14:55:06,750 conftest:0667] [:(] ----------------------------------------------
[D 2022-07-28 14:55:06,750 conftest:0465] [:(] Invoking logread fixture
[I 2022-07-28 14:55:06,750 conftest:0478] [:(] --- SKIPPING LOGREAD and LOGCAT ---
[I 2022-07-28 14:55:06,750 conftest:0101] [:(] Invoking skip_test_if_condition
[I 2022-07-28 14:55:06,750 conftest:0280] [:(] Invoking apClientFixture fixture
[I 2022-07-28 14:55:06,750 rivieraCommunication:0435] [:(] Get IP address with ADB connection
[I 2022-07-28 14:55:06,750 rivieraCommunication:0467] [:(] Get available network interfaces with ADB shell
[D 2022-07-28 14:55:06,750 rivieraCommunication:0301] [:(] Executing ADB shell(device): ifconfig | sed 's/[     ].*//;/^$/d'
[D 2022-07-28 14:55:06,812 rivieraCommunication:0470] [:(] Available Network Interfaces: '['eth0', 'lo', 'wlan0']'
[D 2022-07-28 14:55:06,812 rivieraCommunication:0301] [:(] Executing ADB shell(device): ifconfig eth0 | grep 'inet addr:' | awk -F' ' '{print $2}' | awk -F':' '{print $2}'
[D 2022-07-28 14:55:06,859 rivieraCommunication:0301] [:(] Executing ADB shell(device): ifconfig wlan0 | grep 'inet addr:' | awk -F' ' '{print $2}' | awk -F':' '{print $2}'
[I 2022-07-28 14:55:06,906 conftest:0285] [:(] apClient is trying to connect with this ip 10.26.138.48
[I 2022-07-28 14:55:06,906 apTestClient:0074] [:(] Need to specify a variant in APTestConfig for each unit now; spotty, mojo, eddie, etc.
[W 2022-07-28 14:55:06,921 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:06,921 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:07,218 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:07,218 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:07,937 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:07,937 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:08,218 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:08,218 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:08,952 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:08,952 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:09,234 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:09,234 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:09,968 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:09,968 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:10,249 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:10,249 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:10,983 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:10,983 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:11,249 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:11,249 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:11,998 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:11,998 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:12,264 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:12,264 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:13,006 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:13,006 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:13,271 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:13,271 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:14,021 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:14,021 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:14,271 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:14,271 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:15,036 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:15,036 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:15,286 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:15,286 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:16,036 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:16,036 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:16,302 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:16,302 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:17,051 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:17,051 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:17,239 apTestClient:0112] [:(] Opening 10.26.138.48
[I 2022-07-28 14:55:17,239 apTestClient:0116] [:(] 10.26.138.48
[I 2022-07-28 14:55:17,254 apServerListener:0137] [:(] Wait for Client event PROTOCOL_DESCRIPTOR
[I 2022-07-28 14:55:17,254 apServerListener:0647] [:(] PROTOCOL DESCRIPOR RECEIVED
[I 2022-07-28 14:55:17,254 apEventHandler:0041] [:(] Got Event: PROTOCOL_DESCRIPTOR
[I 2022-07-28 14:55:17,254 conftest:0262] [:(] Invoking HTTPServer fixture
[I 2022-07-28 14:55:17,270 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:55:17,270 apEventHandler:0041] [:(] Got Event: SUSPENDED
[I 2022-07-28 14:55:17,270 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[I 2022-07-28 14:55:17,270 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[I 2022-07-28 14:55:17,270 apServerListener:0502] [:(] CAPABILITIES MESSAGE
[I 220728 14:55:17.270 SampleMusicServer:67] [:(] started sample music server...
[I 2022-07-28 14:55:17,270 conftest:0273] [:(] Main music url http://10.26.138.25:27836/pulse_every_1_second_1_min.wav
[I 2022-07-28 14:55:17,270 apEventHandler:0041] [:(] Got Event: CAPABILITIES
[I 2022-07-28 14:55:17,270 conftest:0683] [:(] -----------------------
[I 2022-07-28 14:55:17,286 conftest:0684] [:(] TEST SETUP PASSED
[I 2022-07-28 14:55:17,286 apServerListener:0464] [:(] ZONE_STATEMSG RECVD: status: DISCONNECTED
change_reason: COMMANDED

[I 2022-07-28 14:55:17,286 conftest:0685] [:(] Test: test_a2dp_play.py::TestA2DP_play::test_a2dp_hw_control_for_cervelo[False-src_dev1_Smalls_]
[I 2022-07-28 14:55:17,286 apEventHandler:0041] [:(] Got Event: I_AM_NOT_A_SLAVE
[I 2022-07-28 14:55:17,286 conftest:0686] [:(] DateTime: 2022-07-28 14:55:17.286109
[I 2022-07-28 14:55:17,286 conftest:0687] [:(] ------------------------
[I 2022-07-28 14:55:17,286 test_a2dp_play:0947] [:(] TEST: test_a2dp_hw_control_for_cervelo
[I 2022-07-28 14:55:17,286 test_a2dp_play:0066] [:(] initialize_a2dp_test
[I 2022-07-28 14:55:17,286 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:17,286 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:17,286 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:17,286 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:17.286 SpitfireMessaging:361] Sending request with transaction id 210 (0xd2)
[D Jul-28 14:55:17.301 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:17,301 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 69
[W 2022-07-28 14:55:17,317 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:17,317 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:17,348 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 69
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:17,348 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:17,348 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[I 2022-07-28 14:55:17,348 sink_group:0030] [:(] clear_audio_stream_status: BOTH
[I 2022-07-28 14:55:17,348 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:17,348 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:17,348 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:17,348 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:17,348 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:17,348 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:17,348 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:17,348 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:17.348 SpitfireMessaging:361] Sending request with transaction id 211 (0xd3)
[D Jul-28 14:55:17.364 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:17,364 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 70
[I 2022-07-28 14:55:17,411 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 70
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:17,411 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:17,411 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[I 2022-07-28 14:55:17,411 helper_functions:0146] [:(] connect_and_wait_for_profile_connected: attempt 1 of 3
[I 2022-07-28 14:55:17,411 helper_functions:0100] [:(] pair_list_clear_and_pair_source
[I 2022-07-28 14:55:17,411 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:17,411 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:17,411 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:17,411 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:17.411 SpitfireMessaging:361] Sending request with transaction id 212 (0xd4)
[D Jul-28 14:55:17.411 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:17,411 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 71
[I 2022-07-28 14:55:17,457 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 71
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:17,457 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:17,457 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[D 2022-07-28 14:55:17,457 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:17,473 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:17,473 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/sink/macAddr
[D 2022-07-28 14:55:17,473 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:17,473 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/sink/macAddr', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 169}}
[D 2022-07-28 14:55:17,473 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:17,473 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 169,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,473 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 169,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,473 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/sink/macAddr
[D 2022-07-28 14:55:17,504 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "mac": "28:11:a5:a5:cb:a8"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 169,
        "resource": "/bluetooth/sink/macAddr",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:17,504 sink_group:0057] [:(] check_pair_status: RIGHT
[I 2022-07-28 14:55:17,504 bt_spitfire_helper:0206] [:(] Right: check_pair_status
[I 2022-07-28 14:55:17,598 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: ' 1) 28:11:a5:a5:cb:a8  ............ H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:55:17,598 helper_functions:0163] [:(] check_source_pair_status
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/list
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/list', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 170}}
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:17,598 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 170,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 170,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,598 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/list
[D 2022-07-28 14:55:17,660 bt_notification:0392] [:(] _source_list_cb
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls",
                "productId": 0,
                "variantId": 0
            }
        ]
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 170,
        "resource": "/bluetooth/source/list",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:17,676 sink_group:0030] [:(] enter_pair_state: RIGHT
[I 2022-07-28 14:55:17,676 bt_spitfire_helper:0237] [:(] Right: enter_pair_state
[I 2022-07-28 14:55:17,676 SpitfireBluetoothMessage:0032] [:(] Right: send_bt_pairing_command for mode: 1
[I 2022-07-28 14:55:17,676 SpitfireComponentMessaging:0293] [:(] Right: send_command(bt): cmd_id= 0
[D Jul-28 14:55:17.676 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:17,676 helper_functions:0127] [:(] connect_and_check
[I 2022-07-28 14:55:17,676 bt_notification:0307] [:(] register_for_source_profile_states
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/list
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/list', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 171}}
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:17,676 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 171,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 171,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,676 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/list
[D 2022-07-28 14:55:17,739 bt_notification:0392] [:(] _source_list_cb
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls",
                "productId": 24396,
                "variantId": 69
            }
        ]
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 171,
        "resource": "/bluetooth/source/list",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:17,801 helper_functions:0134] [:(]  sink device mac address ['78:2b:64:7c:45:be']
[I 2022-07-28 14:55:17,801 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(bt): context= 0
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[I 2022-07-28 14:55:17,801 SpitfireComponentMessaging:0082] [:(] Right: Got 'bt' Event: 0
 --- Data ---
mode: enter
reason: other

[D 2022-07-28 14:55:17,801 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/connect
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0379] [:(] Enveloping data: {
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/connect', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 172}}
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 172,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 172,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:17,801 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/connect
[D 2022-07-28 14:55:17,957 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:17,989 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTING expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:17,989 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "deviceClass": "000000",
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_CONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:18,020 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:18,051 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:18,082 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "devices": [],
        "status": "APP_CONNECTING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:18,098 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 172,
        "resource": "/bluetooth/source/connect",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:18,098 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:18,098 bt_notification:0255] [:(] wait_for_source_connection_status_changed_notification
[I 2022-07-28 14:55:18,098 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:18,317 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:18,317 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:18,442 bt_notification:0586] [:(] _acl_status_cb
[I 2022-07-28 14:55:18,442 bt_notification:0587] [:(] {'header': {'device': 'b13a8018-0ead-1570-8a2a-b936b18bd42c', 'resource': '/bluetooth/aclConnectionStatus', 'method': 'NOTIFY', 'version': 1.0}, 'body': {'is_connected': True, 'mac': '78:2b:64:7c:45:be', 'reason': 0, 'type': 'CLASSIC'}}
[D 2022-07-28 14:55:18,442 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "is_connected": true,
        "mac": "78:2b:64:7c:45:be",
        "reason": 0,
        "type": "CLASSIC"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/aclConnectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:18,692 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(bt): context= 0
[I 2022-07-28 14:55:18,692 SpitfireComponentMessaging:0082] [:(] Right: Got 'bt' Event: 0
 --- Data ---
mode: exit
reason: handset_connected

[I 2022-07-28 14:55:18,770 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:55:18,770 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[D 2022-07-28 14:55:18,957 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:18,957 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:18,957 bt_notification:0406] [:(] Threading event sourceAppStatusNotifEvent set successfully
[D 2022-07-28 14:55:18,957 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:18,973 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:18,973 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_A2DP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_UNINITIALIZED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:19,004 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:19,004 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:19,020 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[I 2022-07-28 14:55:19,020 bt_notification:0288] [:(] wait_for_source_status_notification
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/connect
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/connect', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 173}}
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:19,020 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 173,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 173,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:19,020 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/connect
[D 2022-07-28 14:55:19,051 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 173,
        "resource": "/bluetooth/source/connect",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:19,051 bt_notification:0201] [:(] wait_for_source_profiles_status_notification
[W 2022-07-28 14:55:19,113 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:19,113 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:19,332 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:19,332 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:19,363 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:19,363 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_HFAG",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_UNINITIALIZED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:19,379 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:19,379 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:19,379 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:55:19,379 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:55:19,379 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:55:19,379 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:19,379 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:19,379 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_SPP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_CONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:20,113 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:20,113 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:20,270 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:55:20,270 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
stream_type: VOICE
max_val: 15
current_val: 10
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:55:20,285 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(tel): context= 0
[I 2022-07-28 14:55:20,285 SpitfireComponentMessaging:0082] [:(] Right: Got 'tel' Event: 0
 --- Data ---
status: TEL_PROFILE_CONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[W 2022-07-28 14:55:20,347 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:20,347 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:20,473 bt_notification:0549] [:(] _source_hfag_battery_level_cb received = NOTIFY
[D 2022-07-28 14:55:20,473 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "percentage": 0
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagBatteryLevelStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:20,551 bt_notification:0476] [:(] _source_hfag_speaker_volume_cb received = NOTIFY
[D 2022-07-28 14:55:20,566 bt_notification:0480] [:(] Threading event sourceHfagSpeakerVolumesNotifEvent set successfully
[D 2022-07-28 14:55:20,566 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "type": "SPEAKER",
        "volume": 67
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagVolume/speaker",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:20,629 bt_notification:0469] [:(] _source_hfag_mic_volume_cb received = NOTIFY
[D 2022-07-28 14:55:20,629 bt_notification:0473] [:(] Threading event sourceHfagMicVolumeNotifEvent set successfully
[D 2022-07-28 14:55:20,629 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "type": "MIC",
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagVolume/mic",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:21,129 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:21,129 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:21,347 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:21,347 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:22,144 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:22,144 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[E 2022-07-28 14:55:22,300 apServerListener:0659] [:(] GetHeadder : Socket timout
[W 2022-07-28 14:55:22,363 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:22,363 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:22,363 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[I 2022-07-28 14:55:22,363 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[D 2022-07-28 14:55:22,550 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_AVRCP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_CONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/sink/macAddr
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/sink/macAddr', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 174}}
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:22,550 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 174,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 174,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:22,550 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/sink/macAddr
[D 2022-07-28 14:55:22,659 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:55:22,659 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "mac": "28:11:a5:a5:cb:a8"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 174,
        "resource": "/bluetooth/sink/macAddr",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:22,659 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[I 2022-07-28 14:55:22,659 sink_group:0030] [:(] wait_for_sink_profiles_connection_state: RIGHT
[D 2022-07-28 14:55:22,659 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:22,659 bt_spitfire_helper:0249] [:(] Right: wait_for_sink_profiles_connection_state: ['PROFILE_ID_AVRCP', 'PROFILE_ID_A2DP', 'PROFILE_ID_HFAG'] PROFILE_CONNECTED 28:11:a5:a5:cb:a8 30
[I 2022-07-28 14:55:22,753 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2........s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:55:22,753 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2........s. H
[I 2022-07-28 14:55:22,753 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:55:22,753 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:55:22,753 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[W 2022-07-28 14:55:23,144 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:23,144 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:23,347 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2........s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:55:23,347 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2........s. H
[I 2022-07-28 14:55:23,347 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:55:23,347 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:55:23,347 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[W 2022-07-28 14:55:23,378 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:23,378 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:23,534 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 0
[I 2022-07-28 14:55:23,534 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 0
 --- Data ---
status: PROFILE_CONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:55:23,550 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:55:23,550 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:55:23,691 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 1
[I 2022-07-28 14:55:23,691 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 1
 --- Data ---
status: MEDIA_STOPPED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:55:23,940 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2v.......s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:55:23,940 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 2
[I 2022-07-28 14:55:23,940 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2v.......s. H
[I 2022-07-28 14:55:23,940 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 2
 --- Data ---
isTrackChanged: true
attributes {
  id: MPL_NOWPLAYING_TITLE
  len: 1
  attribute: " "
}

[I 2022-07-28 14:55:23,940 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:55:23,940 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:55:23,940 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[I 2022-07-28 14:55:23,940 helper_functions:0211] [:(] set_volume
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/volume
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0379] [:(] Enveloping data: {
    "volume": 90
}
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/volume', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 175}}
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "volume": 90
}
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "volume": 90
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 175,
        "resource": "/bluetooth/source/volume",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "volume": 90
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 175,
        "resource": "/bluetooth/source/volume",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:23,940 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/volume
[D 2022-07-28 14:55:24,034 bt_notification:0331] [:(] _source_volume_cb received = POST
[D 2022-07-28 14:55:24,050 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 175,
        "resource": "/bluetooth/source/volume",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:24,050 sink_group:0086] [:(] send_audio_prepare_output_request: BOTH
[I 2022-07-28 14:55:24,050 SpitfireAudioMessage:0708] [:(] Right: send_audio_prepare_output_request for prepare: False chain: False hwPower: False, unlock: False
[I 2022-07-28 14:55:24,050 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 35
[D Jul-28 14:55:24.050 SpitfireMessaging:361] Sending request with transaction id 213 (0xd5)
[D Jul-28 14:55:24.050 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:24,050 SpitfireAudioMessage:0708] [:(] Left: send_audio_prepare_output_request for prepare: False chain: False hwPower: False, unlock: False
[I 2022-07-28 14:55:24,050 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 35
[D Jul-28 14:55:24.050 SpitfireMessaging:361] Sending request with transaction id 6 (0x6)
[I 2022-07-28 14:55:24,065 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:55:24,065 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[D Jul-28 14:55:24.065 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:24,065 sink_group:0086] [:(] check_audio_prepare_output_event: BOTH
[I 2022-07-28 14:55:24,065 SpitfireAudioMessage:0744] [:(] Right: check_audio_prepare_output_event: prepared: False, chain: False, hwPower: False, unlock: False, timeout_s: 10
[W 2022-07-28 14:55:24,065 api:0040] [:(] Right: Current Audio event prepared state True is not as expected False, retrying in 1 seconds...
[I 2022-07-28 14:55:24,081 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:55:24,081 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:55:24,096 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[D 2022-07-28 14:55:24,096 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[I 2022-07-28 14:55:24,096 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[D 2022-07-28 14:55:24,096 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[I 2022-07-28 14:55:24,096 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[D 2022-07-28 14:55:24,096 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 90
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:24,096 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:24,112 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:24,128 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:24,128 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:24,128 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:55:24,128 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:24,128 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:55:24,128 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:24,128 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:24,143 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:24,143 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 35, request_id: 143
 --- payload---
success: true


[I 2022-07-28 14:55:24,143 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:55:24,143 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:55:24,143 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:24,159 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 35, request_id: 6
 --- payload---
success: true


[I 2022-07-28 14:55:24,159 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:24,159 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:55:24,159 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:55:24,159 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:24,175 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:24,175 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:55:24,175 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:55:24,175 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:24,190 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:24,190 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[I 2022-07-28 14:55:24,190 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:24,190 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[I 2022-07-28 14:55:24,206 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:24,206 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:55:24,222 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:24,222 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:55:25,081 SpitfireAudioMessage:0763] [:(] Right: Got expected Audio output event: prepared False, chain False, hwPower False, unlock False : state {
}

[I 2022-07-28 14:55:25,081 SpitfireAudioMessage:0744] [:(] Left: check_audio_prepare_output_event: prepared: False, chain: False, hwPower: False, unlock: False, timeout_s: 10
[I 2022-07-28 14:55:25,081 SpitfireAudioMessage:0763] [:(] Left: Got expected Audio output event: prepared False, chain False, hwPower False, unlock False : state {
}

[I 2022-07-28 14:55:25,081 sink_group:0086] [:(] send_smartanr_power_lock_request: BOTH
[I 2022-07-28 14:55:25,081 SpitfireSmartANRMessage:0030] [:(] Right: send_smartanr_power_lock_request for operation: 0
[I 2022-07-28 14:55:25,081 SpitfireComponentMessaging:0210] [:(] Right: send_request(anr): message_id= 2
[D Jul-28 14:55:25.081 SpitfireMessaging:361] Sending request with transaction id 214 (0xd6)
[D Jul-28 14:55:25.081 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:25,081 SpitfireSmartANRMessage:0030] [:(] Left: send_smartanr_power_lock_request for operation: 0
[I 2022-07-28 14:55:25,081 SpitfireComponentMessaging:0210] [:(] Left: send_request(anr): message_id= 2
[D Jul-28 14:55:25.081 SpitfireMessaging:361] Sending request with transaction id 7 (0x7)
[D Jul-28 14:55:25.096 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:25,096 sink_group:0086] [:(] check_smartanr_power_status_event: BOTH
[I 2022-07-28 14:55:25,096 SpitfireSmartANRMessage:0077] [:(] Right: check_smartanr_power_status_event: status: 3
[I 2022-07-28 14:55:25,096 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:25,096 api:0040] [:(] Right: Current SmartANR Power status: 4 is not as expected 3, retrying in 0.5 seconds...
[I 2022-07-28 14:55:25,143 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:25,143 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:55:25,159 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:25,159 SpitfireComponentMessaging:0199] [:(] Right: Response(anr): message_id: 2, request_id: 1
 --- payload---
status: SMARTANR_POWER_STATUS_POWERING_ON


[I 2022-07-28 14:55:25,159 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[W 2022-07-28 14:55:25,174 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:25,174 SpitfireComponentMessaging:0199] [:(] Left: Response(anr): message_id: 2, request_id: 1
 --- payload---
status: SMARTANR_POWER_STATUS_POWERING_ON


[I 2022-07-28 14:55:25,174 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:25,190 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:25,190 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:25,596 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:25,596 api:0040] [:(] Right: Current SmartANR Power status: 1 is not as expected 3, retrying in 0.5 seconds...
[I 2022-07-28 14:55:25,862 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:25,862 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:55:25,877 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:25,877 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:55:25,893 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:25,893 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:25,893 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_ON

[I 2022-07-28 14:55:25,893 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_ON

[I 2022-07-28 14:55:25,909 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:25,909 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:25,909 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:55:25,909 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:55:25,909 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:55:25,909 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:55:25,909 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:25,909 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:26,112 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:26,112 api:0040] [:(] Right: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[I 2022-07-28 14:55:26,627 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:26,627 api:0040] [:(] Right: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[W 2022-07-28 14:55:26,924 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:26,924 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:26,924 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:26,924 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:27,143 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:27,143 SpitfireSmartANRMessage:0084] [:(] Right: Got expected SmartANR Power status event (3)
[I 2022-07-28 14:55:27,143 SpitfireSmartANRMessage:0077] [:(] Left: check_smartanr_power_status_event: status: 3
[I 2022-07-28 14:55:27,143 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:27,143 api:0040] [:(] Left: Current SmartANR Power status: 4 is not as expected 3, retrying in 0.5 seconds...
[E 2022-07-28 14:55:27,377 apServerListener:0659] [:(] GetHeadder : Socket timout
[I 2022-07-28 14:55:27,658 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:27,658 api:0040] [:(] Left: Current SmartANR Power status: 1 is not as expected 3, retrying in 0.5 seconds...
[W 2022-07-28 14:55:27,924 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:27,924 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:27,924 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:27,924 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:28,174 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:28,174 api:0040] [:(] Left: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[I 2022-07-28 14:55:28,689 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:28,689 api:0040] [:(] Left: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[W 2022-07-28 14:55:28,939 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:28,939 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:28,939 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:28,939 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:29,189 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:29,189 SpitfireSmartANRMessage:0084] [:(] Left: Got expected SmartANR Power status event (3)
[I 2022-07-28 14:55:29,189 sink_group:0086] [:(] send_smartanr_power_lock_request: BOTH
[I 2022-07-28 14:55:29,189 SpitfireSmartANRMessage:0030] [:(] Right: send_smartanr_power_lock_request for operation: 1
[I 2022-07-28 14:55:29,189 SpitfireComponentMessaging:0210] [:(] Right: send_request(anr): message_id= 2
[D Jul-28 14:55:29.189 SpitfireMessaging:361] Sending request with transaction id 215 (0xd7)
[D Jul-28 14:55:29.205 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:29,205 SpitfireSmartANRMessage:0030] [:(] Left: send_smartanr_power_lock_request for operation: 1
[I 2022-07-28 14:55:29,205 SpitfireComponentMessaging:0210] [:(] Left: send_request(anr): message_id= 2
[D Jul-28 14:55:29.205 SpitfireMessaging:361] Sending request with transaction id 8 (0x8)
[D Jul-28 14:55:29.205 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:29,205 sink_group:0086] [:(] check_smartanr_power_status_event: BOTH
[I 2022-07-28 14:55:29,205 SpitfireSmartANRMessage:0077] [:(] Right: check_smartanr_power_status_event: status: 1
[I 2022-07-28 14:55:29,205 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:29,252 SpitfireComponentMessaging:0199] [:(] Right: Response(anr): message_id: 2, request_id: 2
 --- payload---
status: SMARTANR_POWER_STATUS_POWERING_OFF


[I 2022-07-28 14:55:29,267 SpitfireComponentMessaging:0199] [:(] Left: Response(anr): message_id: 2, request_id: 2
 --- payload---
status: SMARTANR_POWER_STATUS_POWERING_OFF


[I 2022-07-28 14:55:29,267 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:29,267 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[W 2022-07-28 14:55:29,267 api:0040] [:(] Right: Current SmartANR Power status: 4 is not as expected 1, retrying in 0.5 seconds...
[I 2022-07-28 14:55:29,283 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:29,283 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:29,283 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:55:29,283 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[I 2022-07-28 14:55:29,283 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:55:29,283 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:29,298 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:29,298 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:55:29,298 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:55:29,298 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:29,580 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:29,580 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:55:29,595 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:29,595 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:55:29,767 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:29,767 SpitfireSmartANRMessage:0084] [:(] Right: Got expected SmartANR Power status event (1)
[I 2022-07-28 14:55:29,767 SpitfireSmartANRMessage:0077] [:(] Left: check_smartanr_power_status_event: status: 1
[I 2022-07-28 14:55:29,767 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:29,767 api:0040] [:(] Left: Current SmartANR Power status: 4 is not as expected 1, retrying in 0.5 seconds...
[I 2022-07-28 14:55:30,283 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:30,283 SpitfireSmartANRMessage:0084] [:(] Left: Got expected SmartANR Power status event (1)
[I 2022-07-28 14:55:30,283 helper_functions:0245] [:(] Main music url http://10.26.138.25:27836/testfile_44.1k_2bPCM_1000Hz_10m.mp3
[I 2022-07-28 14:55:30,283 test_a2dp_play:0971] [:(] stream_url = http://10.26.138.25:27836/testfile_44.1k_2bPCM_1000Hz_10m.mp3
[I 2022-07-28 14:55:30,283 helper_functions:0229] [:(] play_primary_stream url=http://10.26.138.25:27836/testfile_44.1k_2bPCM_1000Hz_10m.mp3
[I 2022-07-28 14:55:30,283 apTestClient:0229] [:(]  SETURL
[I 2022-07-28 14:55:30,283 apTestClient:0287] [:(] url: "http://10.26.138.25:27836/testfile_44.1k_2bPCM_1000Hz_10m.mp3"
url_is_realtime: false
connection_timeout_in_ms: 20000
buffering_timeout_in_ms: 180000
source_dryup_timeout_ms: 30000
source_retry_delay_ms: 5000
source_retry_count: 5
dist_range: MULTIROOM
url_uuid: "eb17eae60df24cb9828963c22c7227ed"

[I 2022-07-28 14:55:30,283 apTestClient:0315] [:(] TRANSPORT CONTROL PLAY, url_id: 0  url_uuid eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:30,283 helper_functions:0232] [:(] primary stream urlUuid=eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:30,283 apServerListener:0221] [:(] Wait for Stream Event PLAYING id eb17eae60df24cb9828963c22c7227ed
[W 2022-07-28 14:55:30,298 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:30,298 apServerListener:0572] [:(] VolumeControl 10
[I 2022-07-28 14:55:30,298 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:30,298 apEventHandler:0041] [:(] Got Event: VOLUMECONTROL
[W 2022-07-28 14:55:30,314 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:30,314 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:30,329 apServerListener:0249] [:(] SETURL Response 14:55:30.329950 url: True, url_id: http://10.26.138.25:27836/testfile_44.1k_2bPCM_1000Hz_10m.mp3, url_uuid: 22
[I 2022-07-28 14:55:30,329 apEventHandler:0041] [:(] Got Event: SETURL
[I 2022-07-28 14:55:30,329 apEventHandler:0041] [:(] Got Event: CONNECTING
[I 2022-07-28 14:55:30,329 apServerListener:0395] [:(] different prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:30,345 apEventHandler:0041] [:(] Got Event: PREFETCH_TYPE
[I 2022-07-28 14:55:30,345 apServerListener:0398] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' PREFETCH_TYPE ', '0']
10.26.138.48 - - [28/Jul/2022 14:55:30] "GET /testfile_44.1k_2bPCM_1000Hz_10m.mp3 HTTP/1.1" 200 -
[I 2022-07-28 14:55:30,345 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 220728 14:55:30.345 SampleMusicServer:39] [:(] FILESIZE 9600775
[I 2022-07-28 14:55:30,345 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:30,345 apServerListener:0415] [:(] 14:55:30.329950 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update CONNECTING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:30,345 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:55:30,345 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:55:30,345 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:55:30,345 apServerListener:0288] [:(] TRANSPORT PLAY url_id: 0 url_uuid: eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:30,345 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[I 2022-07-28 14:55:30,392 apServerListener:0482] [:(] SERVER IS UNSUSPENDED
[I 2022-07-28 14:55:30,392 apEventHandler:0041] [:(] Got Event: UNSUSPENDED
[I 2022-07-28 14:55:30,392 apEventHandler:0041] [:(] Got Event: BUFFERING
[I 2022-07-28 14:55:30,392 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:30,392 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:30,392 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:30,392 apServerListener:0415] [:(] 14:55:30.392374 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update BUFFERING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:30,392 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:55:30,392 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:55:30,392 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:55:30,454 apEventHandler:0041] [:(] Got Event: PLAYING
[I 2022-07-28 14:55:30,454 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:30,454 helper_functions:0234] [:(] play_stream is playing now
[I 2022-07-28 14:55:30,454 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:30,454 sink_group:0086] [:(] check_smartanr_power_status_event: BOTH
[I 2022-07-28 14:55:30,454 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:30,454 SpitfireSmartANRMessage:0077] [:(] Right: check_smartanr_power_status_event: status: 3
[I 2022-07-28 14:55:30,454 apServerListener:0415] [:(] 14:55:30.454862 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update PLAYING stoppedReason: NA milliseconds: 1 byte_offset 627 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:30,454 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:30,454 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:55:30,454 apServerListener:0629] [:(] Stream state - isSilent: False
[I 2022-07-28 14:55:30,454 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:55:30,548 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:30,548 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:30,548 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:30,548 apServerListener:0415] [:(] 14:55:30.548903 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update PLAYING stoppedReason: NA milliseconds: 93 byte_offset 1881 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:55:31,314 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:31,314 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:31,329 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:31,329 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:31,360 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:31,360 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:31,360 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:31,454 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'anr' event_id: 3
[W 2022-07-28 14:55:31,454 api:0040] [:(] Right: Event 3 wait timed out, retrying in 0.5 seconds...
[I 2022-07-28 14:55:31,532 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:31,532 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:31,532 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:31,532 apServerListener:0415] [:(] 14:55:31.532979 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update PLAYING stoppedReason: NA milliseconds: 1093 byte_offset 18182 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:31,736 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:31,736 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
}

[I 2022-07-28 14:55:31,736 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:31,736 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  chain: true
}

[I 2022-07-28 14:55:31,736 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
}

[I 2022-07-28 14:55:31,736 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:31,736 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  chain: true
}

[I 2022-07-28 14:55:31,736 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:31,751 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:31,751 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:31,751 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:55:31,751 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[D 2022-07-28 14:55:31,751 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:31,751 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:31,751 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:55:31,751 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:55:31,751 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:55:31,751 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:31,970 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:31,970 api:0040] [:(] Right: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[I 2022-07-28 14:55:32,454 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:32,454 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:55:32,470 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:32,470 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:32,470 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:55:32,470 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_ON

[I 2022-07-28 14:55:32,470 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:32,470 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:32,470 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:32,470 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[W 2022-07-28 14:55:32,485 api:0040] [:(] Right: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[I 2022-07-28 14:55:32,485 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_ON

[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:32,485 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:32,485 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:32,501 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:32,501 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:55:32,501 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:55:32,501 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:32,548 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:32,548 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:32,548 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:32,548 apServerListener:0415] [:(] 14:55:32.548119 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update PLAYING stoppedReason: NA milliseconds: 2093 byte_offset 34064 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:32,579 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:55:32,579 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:55:32,595 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:55:32,595 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:55:33,001 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:33,001 SpitfireSmartANRMessage:0084] [:(] Right: Got expected SmartANR Power status event (3)
[I 2022-07-28 14:55:33,001 SpitfireSmartANRMessage:0077] [:(] Left: check_smartanr_power_status_event: status: 3
[I 2022-07-28 14:55:33,001 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:33,001 api:0040] [:(] Left: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[W 2022-07-28 14:55:33,501 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:33,501 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:33,501 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:33,501 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:33,516 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:33,516 api:0040] [:(] Left: Current SmartANR Power status: 2 is not as expected 3, retrying in 0.5 seconds...
[I 2022-07-28 14:55:33,532 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:33,532 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:33,532 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:33,532 apServerListener:0415] [:(] 14:55:33.532264 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update PLAYING stoppedReason: NA milliseconds: 3093 byte_offset 49947 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:34,032 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:34,032 SpitfireSmartANRMessage:0084] [:(] Left: Got expected SmartANR Power status event (3)
[I 2022-07-28 14:55:34,032 sink_group:0086] [:(] check_audio_prepare_output_event: BOTH
[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0744] [:(] Right: check_audio_prepare_output_event: prepared: True, chain: True, hwPower: True, unlock: True, timeout_s: 5
[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0763] [:(] Right: Got expected Audio output event: prepared True, chain True, hwPower True, unlock True : prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0744] [:(] Left: check_audio_prepare_output_event: prepared: True, chain: True, hwPower: True, unlock: True, timeout_s: 5
[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0763] [:(] Left: Got expected Audio output event: prepared True, chain True, hwPower True, unlock True : prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:55:34,032 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:55:34,032 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:55:34,032 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:55:34,032 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[W 2022-07-28 14:55:34,516 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:34,516 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:34,516 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:34,516 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:34,563 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:34,563 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:34,563 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:34,563 apServerListener:0415] [:(] 14:55:34.563268 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update PLAYING stoppedReason: NA milliseconds: 4093 byte_offset 65829 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:55:35,532 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:35,532 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:35,532 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:35,532 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:35,532 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:35,532 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:35,532 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:35,532 apServerListener:0415] [:(] 14:55:35.532068 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update PLAYING stoppedReason: NA milliseconds: 5093 byte_offset 82130 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:36,047 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:36,047 apServerListener:0221] [:(] Wait for Stream Event STOPPED id eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:36,063 apServerListener:0288] [:(] TRANSPORT STOP url_id: 0 url_uuid: eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:36,063 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:55:36,547 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:36,547 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:36,547 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:36,547 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:37,062 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:55:37,062 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:55:37,062 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:55:37,141 apEventHandler:0041] [:(] Got Event: STOPPED
[I 2022-07-28 14:55:37,141 apServerListener:0400] [:(] same prefetch_type received : streamId : eb17eae60df24cb9828963c22c7227ed : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:55:37,156 apServerListener:0409] [:(] ['Stream ', 'eb17eae60df24cb9828963c22c7227ed', ' FRONTED']
[I 2022-07-28 14:55:37,156 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:55:37,156 apServerListener:0415] [:(] 14:55:37.141050 SERVERSTATE streamId: eb17eae60df24cb9828963c22c7227ed Update STOPPED stoppedReason: Interrupted milliseconds: 5709 byte_offset 91743 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:55:37,266 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:55:37,266 apEventHandler:0041] [:(] Got Event: SUSPENDED
[W 2022-07-28 14:55:37,562 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:37,562 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:37,562 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:37,562 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:38,078 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:55:38,078 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:55:38,562 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:38,562 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:38,562 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:38,562 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:39,093 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:55:39,577 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:39,577 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:39,577 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:39,577 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:40,109 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:55:40,109 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:55:40,593 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:40,593 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:40,593 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:40,593 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:41,124 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:55:41,608 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:55:41,608 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:41,608 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:41,608 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:42,124 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:55:42,124 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[D 2022-07-28 14:55:42,155 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:42,155 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:42,155 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:42,202 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:42,202 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:42,202 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:55:42,202 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:55:42,202 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:55:42,202 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:42,233 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:42,233 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:42,233 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:42,233 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:42,280 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[E 2022-07-28 14:55:42,280 apServerListener:0659] [:(] GetHeadder : Socket timout
[I 2022-07-28 14:55:42,280 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:55:42,295 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:42,295 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:55:42,295 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:55:42,295 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:42,311 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:42,311 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:55:42,311 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:55:42,311 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:42,327 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:42,327 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:42,327 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:42,327 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[I 2022-07-28 14:55:42,327 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:55:42,327 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:42,358 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:55:42,358 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:55:42,373 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:42,373 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:55:42,373 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:55:42,373 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:55:42,373 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:55:42,373 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:42,373 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:55:42,373 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:42,389 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:42,389 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[I 2022-07-28 14:55:42,608 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:42,608 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:55:42,686 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:55:42,686 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:55:43,139 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:55:43,139 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:55:43,139 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:55:43,139 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:55:43,139 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:55:43,139 sink_group:0086] [:(] check_smartanr_power_status_event: BOTH
[I 2022-07-28 14:55:43,139 SpitfireSmartANRMessage:0077] [:(] Right: check_smartanr_power_status_event: status: 1
[I 2022-07-28 14:55:43,139 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:43,139 api:0040] [:(] Right: Current SmartANR Power status: 4 is not as expected 1, retrying in 0.5 seconds...
[W 2022-07-28 14:55:43,311 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:43,311 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:43,389 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:43,389 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:43,655 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:43,655 SpitfireSmartANRMessage:0084] [:(] Right: Got expected SmartANR Power status event (1)
[I 2022-07-28 14:55:43,655 SpitfireSmartANRMessage:0077] [:(] Left: check_smartanr_power_status_event: status: 1
[I 2022-07-28 14:55:43,655 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[W 2022-07-28 14:55:43,655 api:0040] [:(] Left: Current SmartANR Power status: 4 is not as expected 1, retrying in 0.5 seconds...
[I 2022-07-28 14:55:44,170 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(anr): event_id: 3
[I 2022-07-28 14:55:44,170 SpitfireSmartANRMessage:0084] [:(] Left: Got expected SmartANR Power status event (1)
[I 2022-07-28 14:55:44,170 sink_group:0086] [:(] check_audio_prepare_output_event: BOTH
[I 2022-07-28 14:55:44,170 SpitfireAudioMessage:0744] [:(] Right: check_audio_prepare_output_event: prepared: False, chain: False, hwPower: False, unlock: False, timeout_s: 5
[I 2022-07-28 14:55:44,170 SpitfireAudioMessage:0763] [:(] Right: Got expected Audio output event: prepared False, chain False, hwPower False, unlock False : state {
}

[I 2022-07-28 14:55:44,170 SpitfireAudioMessage:0744] [:(] Left: check_audio_prepare_output_event: prepared: False, chain: False, hwPower: False, unlock: False, timeout_s: 5
[I 2022-07-28 14:55:44,170 SpitfireAudioMessage:0763] [:(] Left: Got expected Audio output event: prepared False, chain False, hwPower False, unlock False : state {
}

[I 2022-07-28 14:55:44,170 conftest:0697] [:(] -----------------------
[I 2022-07-28 14:55:44,170 conftest:0698] [:(] TEST PASSED
[I 2022-07-28 14:55:44,170 conftest:0699] [:(] Test: test_a2dp_play.py::TestA2DP_play::test_a2dp_hw_control_for_cervelo[False-src_dev1_Smalls_]
[I 2022-07-28 14:55:44,170 conftest:0700] [:(] DateTime: 2022-07-28 14:55:44.170479
[I 2022-07-28 14:55:44,170 conftest:0701] [:(] ------------------------
PASSED[I 2022-07-28 14:55:44,170 test_a2dp_play:0078] [:(] ---------------START TEARDOWN---------------------
[I 2022-07-28 14:55:44,170 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:44,170 apServerListener:0221] [:(] Wait for Stream Event STOPPED id eb17eae60df24cb9828963c22c7227ed
[I 2022-07-28 14:55:44,170 helper_functions:0068] [:(] is_source_connected
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/status
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/status', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 176}}
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:44,170 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 176,
        "resource": "/bluetooth/source/status",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 176,
        "resource": "/bluetooth/source/status",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:44,170 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/status
[D 2022-07-28 14:55:44,217 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:44,264 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:44,264 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 176,
        "resource": "/bluetooth/source/status",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:44,264 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:44,264 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:44,264 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:44,264 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:44.264 SpitfireMessaging:361] Sending request with transaction id 216 (0xd8)
[D Jul-28 14:55:44.264 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:44,264 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 72
[I 2022-07-28 14:55:44,310 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 72
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:44,310 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:44,310 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/disconnect
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0379] [:(] Enveloping data: {
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/disconnect', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 177}}
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 177,
        "resource": "/bluetooth/source/disconnect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 177,
        "resource": "/bluetooth/source/disconnect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:44,310 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/disconnect
[W 2022-07-28 14:55:44,357 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[D 2022-07-28 14:55:44,373 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:44,373 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTING expected = DEVICE_CONNECTED
[I 2022-07-28 14:55:44,389 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:44,435 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:44,482 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(tel): context= 0
[W 2022-07-28 14:55:44,435 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:44,623 SpitfireComponentMessaging:0082] [:(] Right: Got 'tel' Event: 0
 --- Data ---
status: TEL_PROFILE_DISCONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:55:44,576 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[I 2022-07-28 14:55:44,748 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 0
[I 2022-07-28 14:55:44,763 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:44,685 bt_notification:0397] [:(] _source_app_status_cb
[I 2022-07-28 14:55:44,810 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[I 2022-07-28 14:55:44,982 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 0
 --- Data ---
status: PROFILE_DISCONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[D 2022-07-28 14:55:44,920 bt_notification:0401] [:(] _source_app_status_cb received = APP_DISCONNECTING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:45,201 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_DISCONNECTING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 177,
        "resource": "/bluetooth/source/disconnect",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:45,232 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:45,232 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTING expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:45,232 bt_notification:0359] [:(] _source_connection_status_cb received = False expected = True
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0376] [:(] Sending POST to /system/power/control
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": false,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0379] [:(] Enveloping data: {
    "power": "OFF"
}
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/system/power/control', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 178}}
[D 2022-07-28 14:55:45,232 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "power": "OFF"
}
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_SPP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 178,
        "resource": "/system/power/control",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:45,232 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 178,
        "resource": "/system/power/control",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_HFAG",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:45,232 FrontDoorAPI:0392] [:(] Getting the response for: /system/power/control
[D 2022-07-28 14:55:45,232 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:45,279 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_AVRCP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:45,388 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:45,404 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:45,404 bt_notification:0359] [:(] _source_connection_status_cb received = False expected = True
[D 2022-07-28 14:55:45,451 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": false,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:45,566 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[D 2022-07-28 14:55:45,582 bt_notification:0397] [:(] _source_app_status_cb
[I 2022-07-28 14:55:45,597 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:45,613 bt_notification:0401] [:(] _source_app_status_cb received = APP_NOT_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:45,841 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "devices": [
            {
                "deviceClass": "000000",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                }
            }
        ],
        "status": "APP_NOT_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:45,919 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:46,013 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:55:46,107 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:55:46,153 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_A2DP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:46,341 bt_notification:0586] [:(] _acl_status_cb
[I 2022-07-28 14:55:46,388 bt_notification:0587] [:(] {'header': {'device': 'b13a8018-0ead-1570-8a2a-b936b18bd42c', 'resource': '/bluetooth/aclConnectionStatus', 'method': 'NOTIFY', 'version': 1.0}, 'body': {'is_connected': False, 'mac': '78:2b:64:7c:45:be', 'reason': 22, 'type': 'CLASSIC'}}
[D 2022-07-28 14:55:46,419 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "is_connected": false,
        "mac": "78:2b:64:7c:45:be",
        "reason": 22,
        "type": "CLASSIC"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/aclConnectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:46,497 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 178,
        "resource": "/system/power/control",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[W 2022-07-28 14:55:46,841 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:46,841 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:47,107 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:47,107 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:47,856 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:47,856 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:48,122 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:48,122 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:48,513 bt_notification:0572] [:(] wait_for_acl_disconnected_notification
[I 2022-07-28 14:55:48,513 sink_group:0030] [:(] clear_audio_stream_status: BOTH
[I 2022-07-28 14:55:48,513 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:48,513 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:48,513 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:48,513 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:48,513 sink_group:0030] [:(] clear_smartanr_power_status_event: BOTH
[I 2022-07-28 14:55:48,513 SpitfireComponentMessaging:0323] [:(] Right: clear_event(anr): event_id: 3
[I 2022-07-28 14:55:48,513 SpitfireComponentMessaging:0323] [:(] Left: clear_event(anr): event_id: 3
[I 2022-07-28 14:55:48,513 test_a2dp_play:0115] [:(] -----------------END TEARDOWN---------------------
[I 2022-07-28 14:55:48,513 conftest:0267] [:(] Stopping music server
[I 220728 14:55:48.513 SampleMusicServer:76] [:(] stopping sample music server...
[I 2022-07-28 14:55:48,513 conftest:0311] [:(] Closing apclient
[I 2022-07-28 14:55:48,513 apServerListener:0662] [:(] *****************HEADER READ EXCEPTION****************
[I 2022-07-28 14:55:48,513 apServerListener:0663] [:(] Error in header read
Traceback (most recent call last):
  File "C:\Users\111440\SpitfireWorkspace\testEnv\lib\site-packages\CastleAudioPathClientPyProto\APClient_py\apServerListener.py", line 657, in getHeader
    header = self.sock.recv(headerLen)
OSError: [WinError 10038] An operation was attempted on something that is not a socket
[I 2022-07-28 14:55:48,513 apServerListener:0664] [:(] ******************************************************
Closing socket
[I 2022-07-28 14:55:48,528 apFeatureFlags:0208] [:(] config not updated !!!
[I 2022-07-28 14:55:48,528 conftest:0314] [:(] apclient closed
[I 2022-07-28 14:55:48,528 apTestClient:0143] [:(] ServerListener is None

test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_downmix_mode[False-src_dev1_Smalls__captureChannels_] [I 2022-07-28 14:55:48,528 conftest:0663] [:(] --------------------------------------------
[I 2022-07-28 14:55:48,544 conftest:0664] [:(] function    : test_a2dp_single_bud_downmix_mode
[I 2022-07-28 14:55:48,544 conftest:0665] [:(] test name   : test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_downmix_mode[False-src_dev1_Smalls__captureChannels_]
[I 2022-07-28 14:55:48,544 conftest:0666] [:(] time        : Thu Jul 28 14:55:48 2022
[I 2022-07-28 14:55:48,544 conftest:0667] [:(] ----------------------------------------------
[D 2022-07-28 14:55:48,544 conftest:0465] [:(] Invoking logread fixture
[I 2022-07-28 14:55:48,544 conftest:0478] [:(] --- SKIPPING LOGREAD and LOGCAT ---
[I 2022-07-28 14:55:48,544 conftest:0101] [:(] Invoking skip_test_if_condition
[I 2022-07-28 14:55:48,544 conftest:0110] [:(] Invoking skip_test_if_condition :- check_audio_capture
[I 2022-07-28 14:55:48,544 conftest:0121] [:(] Skipped, since capture_audio option is False for test with capture REQUIRED
SKIPPED (Skipped, since capture_audio option is False for test with capture REQUIRED)
test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_downmix_mode_on_peer_connection[False-src_dev1_Smalls__captureChannels_] [I 2022-07-28 14:55:48,544 conftest:0663] [:(] --------------------------------------------
[I 2022-07-28 14:55:48,544 conftest:0664] [:(] function    : test_a2dp_single_bud_downmix_mode_on_peer_connection
[I 2022-07-28 14:55:48,544 conftest:0665] [:(] test name   : test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_downmix_mode_on_peer_connection[False-src_dev1_Smalls__captureChannels_]
[I 2022-07-28 14:55:48,544 conftest:0666] [:(] time        : Thu Jul 28 14:55:48 2022
[I 2022-07-28 14:55:48,544 conftest:0667] [:(] ----------------------------------------------
[D 2022-07-28 14:55:48,544 conftest:0465] [:(] Invoking logread fixture
[I 2022-07-28 14:55:48,544 conftest:0478] [:(] --- SKIPPING LOGREAD and LOGCAT ---
[I 2022-07-28 14:55:48,544 conftest:0101] [:(] Invoking skip_test_if_condition
[I 2022-07-28 14:55:48,544 conftest:0110] [:(] Invoking skip_test_if_condition :- check_audio_capture
[I 2022-07-28 14:55:48,544 conftest:0121] [:(] Skipped, since capture_audio option is False for test with capture REQUIRED
SKIPPED (Skipped, since capture_audio option is False for test with capture REQUIRED)
test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_mode_volume_check[False-src_dev1_Smalls_] [I 2022-07-28 14:55:48,544 conftest:0663] [:(] --------------------------------------------
[I 2022-07-28 14:55:48,544 conftest:0664] [:(] function    : test_a2dp_single_bud_mode_volume_check
[I 2022-07-28 14:55:48,544 conftest:0665] [:(] test name   : test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_mode_volume_check[False-src_dev1_Smalls_]
[I 2022-07-28 14:55:48,544 conftest:0666] [:(] time        : Thu Jul 28 14:55:48 2022
[I 2022-07-28 14:55:48,544 conftest:0667] [:(] ----------------------------------------------
[D 2022-07-28 14:55:48,544 conftest:0465] [:(] Invoking logread fixture
[I 2022-07-28 14:55:48,544 conftest:0478] [:(] --- SKIPPING LOGREAD and LOGCAT ---
[I 2022-07-28 14:55:48,544 conftest:0101] [:(] Invoking skip_test_if_condition
[I 2022-07-28 14:55:48,544 conftest:0280] [:(] Invoking apClientFixture fixture
[I 2022-07-28 14:55:48,544 rivieraCommunication:0435] [:(] Get IP address with ADB connection
[I 2022-07-28 14:55:48,544 rivieraCommunication:0467] [:(] Get available network interfaces with ADB shell
[D 2022-07-28 14:55:48,544 rivieraCommunication:0301] [:(] Executing ADB shell(device): ifconfig | sed 's/[     ].*//;/^$/d'
[D 2022-07-28 14:55:48,590 rivieraCommunication:0470] [:(] Available Network Interfaces: '['eth0', 'lo', 'wlan0']'
[D 2022-07-28 14:55:48,590 rivieraCommunication:0301] [:(] Executing ADB shell(device): ifconfig eth0 | grep 'inet addr:' | awk -F' ' '{print $2}' | awk -F':' '{print $2}'
[D 2022-07-28 14:55:48,653 rivieraCommunication:0301] [:(] Executing ADB shell(device): ifconfig wlan0 | grep 'inet addr:' | awk -F' ' '{print $2}' | awk -F':' '{print $2}'
[I 2022-07-28 14:55:48,700 conftest:0285] [:(] apClient is trying to connect with this ip 10.26.138.48
[I 2022-07-28 14:55:48,700 apTestClient:0074] [:(] Need to specify a variant in APTestConfig for each unit now; spotty, mojo, eddie, etc.
[W 2022-07-28 14:55:48,872 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:48,872 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:49,122 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:49,122 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:49,872 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:49,872 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:50,137 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:50,137 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:50,887 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:50,887 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:51,153 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:51,153 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:51,902 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:51,902 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:52,168 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:52,168 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:52,917 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:52,917 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:53,183 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:53,183 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:53,918 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:53,918 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:54,199 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:54,199 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:54,933 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:54,933 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:55,214 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:55,214 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:55,948 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:55,948 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:56,229 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:56,229 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:56,948 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:56,948 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:57,245 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:57,245 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:57,964 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:57,964 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:55:58,260 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:58,260 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:58,947 apTestClient:0112] [:(] Opening 10.26.138.48
[I 2022-07-28 14:55:58,947 apTestClient:0116] [:(] 10.26.138.48
[I 2022-07-28 14:55:58,963 apServerListener:0137] [:(] Wait for Client event PROTOCOL_DESCRIPTOR
[W 2022-07-28 14:55:58,979 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:58,979 apServerListener:0647] [:(] PROTOCOL DESCRIPOR RECEIVED
[I 2022-07-28 14:55:58,979 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:58,979 apEventHandler:0041] [:(] Got Event: PROTOCOL_DESCRIPTOR
[I 2022-07-28 14:55:58,979 conftest:0262] [:(] Invoking HTTPServer fixture
[I 220728 14:55:58.979 SampleMusicServer:67] [:(] started sample music server...
[I 2022-07-28 14:55:58,979 conftest:0273] [:(] Main music url http://10.26.138.25:24753/pulse_every_1_second_1_min.wav
[I 2022-07-28 14:55:58,979 conftest:0683] [:(] -----------------------
[I 2022-07-28 14:55:58,979 conftest:0684] [:(] TEST SETUP PASSED
[I 2022-07-28 14:55:58,979 conftest:0685] [:(] Test: test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_mode_volume_check[False-src_dev1_Smalls_]
[I 2022-07-28 14:55:58,979 conftest:0686] [:(] DateTime: 2022-07-28 14:55:58.979176
[I 2022-07-28 14:55:58,979 conftest:0687] [:(] ------------------------
[I 2022-07-28 14:55:58,979 test_a2dp_play:1089] [:(] TEST: test_a2dp_single_bud_mode_volume_check
[I 2022-07-28 14:55:58,979 test_a2dp_play:0066] [:(] initialize_a2dp_test
[I 2022-07-28 14:55:58,979 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:58,979 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:58,979 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:58,979 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:58.979 SpitfireMessaging:361] Sending request with transaction id 217 (0xd9)
[I 2022-07-28 14:55:58,979 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:55:58,979 apEventHandler:0041] [:(] Got Event: SUSPENDED
[I 2022-07-28 14:55:58,979 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[I 2022-07-28 14:55:58,979 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[I 2022-07-28 14:55:58,979 apServerListener:0502] [:(] CAPABILITIES MESSAGE
[I 2022-07-28 14:55:58,979 apEventHandler:0041] [:(] Got Event: CAPABILITIES
[I 2022-07-28 14:55:58,979 apServerListener:0464] [:(] ZONE_STATEMSG RECVD: status: DISCONNECTED
change_reason: COMMANDED

[I 2022-07-28 14:55:58,979 apEventHandler:0041] [:(] Got Event: I_AM_NOT_A_SLAVE
[D Jul-28 14:55:58.994 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:58,994 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 73
[I 2022-07-28 14:55:59,041 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 73
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:59,041 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:59,041 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[I 2022-07-28 14:55:59,041 sink_group:0030] [:(] clear_audio_stream_status: BOTH
[I 2022-07-28 14:55:59,041 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:59,041 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:59,041 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 0
[I 2022-07-28 14:55:59,041 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 1
[I 2022-07-28 14:55:59,041 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:59,041 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:59,041 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:59,041 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:59.041 SpitfireMessaging:361] Sending request with transaction id 218 (0xda)
[D Jul-28 14:55:59.057 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:59,057 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 74
[I 2022-07-28 14:55:59,104 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 74
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:59,104 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:59,104 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[I 2022-07-28 14:55:59,104 helper_functions:0146] [:(] connect_and_wait_for_profile_connected: attempt 1 of 3
[I 2022-07-28 14:55:59,104 helper_functions:0100] [:(] pair_list_clear_and_pair_source
[I 2022-07-28 14:55:59,104 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:55:59,104 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:55:59,104 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:55:59,104 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[D Jul-28 14:55:59.104 SpitfireMessaging:361] Sending request with transaction id 219 (0xdb)
[D Jul-28 14:55:59.119 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:59,119 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 75
[I 2022-07-28 14:55:59,166 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 75
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:55:59,166 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:55:59,166 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/sink/macAddr
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/sink/macAddr', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 179}}
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:59,166 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 179,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 179,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,166 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/sink/macAddr
[D 2022-07-28 14:55:59,213 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "mac": "28:11:a5:a5:cb:a8"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 179,
        "resource": "/bluetooth/sink/macAddr",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:59,213 sink_group:0057] [:(] check_pair_status: RIGHT
[I 2022-07-28 14:55:59,213 bt_spitfire_helper:0206] [:(] Right: check_pair_status
[W 2022-07-28 14:55:59,275 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:55:59,275 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:55:59,307 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: ' 1) 28:11:a5:a5:cb:a8  ............ H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:55:59,307 helper_functions:0163] [:(] check_source_pair_status
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/list
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/list', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 180}}
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:59,307 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 180,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 180,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,307 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/list
[D 2022-07-28 14:55:59,354 bt_notification:0392] [:(] _source_list_cb
[D 2022-07-28 14:55:59,354 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls",
                "productId": 17477,
                "variantId": 0
            }
        ]
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 180,
        "resource": "/bluetooth/source/list",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:59,354 sink_group:0030] [:(] enter_pair_state: RIGHT
[I 2022-07-28 14:55:59,354 bt_spitfire_helper:0237] [:(] Right: enter_pair_state
[I 2022-07-28 14:55:59,354 SpitfireBluetoothMessage:0032] [:(] Right: send_bt_pairing_command for mode: 1
[I 2022-07-28 14:55:59,354 SpitfireComponentMessaging:0293] [:(] Right: send_command(bt): cmd_id= 0
[D Jul-28 14:55:59.369 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:55:59,369 helper_functions:0127] [:(] connect_and_check
[I 2022-07-28 14:55:59,369 bt_notification:0307] [:(] register_for_source_profile_states
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/list
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/list', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 181}}
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:55:59,369 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 181,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 181,
        "resource": "/bluetooth/source/list",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,369 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/list
[D 2022-07-28 14:55:59,400 bt_notification:0392] [:(] _source_list_cb
[I 2022-07-28 14:55:59,478 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(bt): context= 0
[I 2022-07-28 14:55:59,478 SpitfireComponentMessaging:0082] [:(] Right: Got 'bt' Event: 0
 --- Data ---
mode: enter
reason: other

[D 2022-07-28 14:55:59,478 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls",
                "productId": 24879,
                "variantId": 110
            }
        ]
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 181,
        "resource": "/bluetooth/source/list",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:55:59,478 helper_functions:0134] [:(]  sink device mac address ['78:2b:64:7c:45:be']
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/connect
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0379] [:(] Enveloping data: {
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/connect', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 182}}
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 182,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 182,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:55:59,478 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/connect
[D 2022-07-28 14:55:59,650 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:55:59,666 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTING expected = DEVICE_CONNECTED
[D 2022-07-28 14:55:59,822 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "deviceClass": "000000",
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_CONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:55:59,885 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:55:59,916 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:55:59,947 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "devices": [],
        "status": "APP_CONNECTING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:00,041 bt_notification:0586] [:(] _acl_status_cb
[W 2022-07-28 14:56:00,041 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[D 2022-07-28 14:56:00,041 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 182,
        "resource": "/bluetooth/source/connect",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:00,041 bt_notification:0587] [:(] {'header': {'device': 'b13a8018-0ead-1570-8a2a-b936b18bd42c', 'resource': '/bluetooth/aclConnectionStatus', 'method': 'NOTIFY', 'version': 1.0}, 'body': {'is_connected': True, 'mac': '78:2b:64:7c:45:be', 'reason': 0, 'type': 'CLASSIC'}}
[I 2022-07-28 14:56:00,041 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:00,041 bt_notification:0255] [:(] wait_for_source_connection_status_changed_notification
[D 2022-07-28 14:56:00,041 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "is_connected": true,
        "mac": "78:2b:64:7c:45:be",
        "reason": 0,
        "type": "CLASSIC"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/aclConnectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:00,056 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(bt): context= 0
[I 2022-07-28 14:56:00,056 SpitfireComponentMessaging:0082] [:(] Right: Got 'bt' Event: 0
 --- Data ---
mode: exit
reason: handset_connected

[I 2022-07-28 14:56:00,135 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:00,135 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[W 2022-07-28 14:56:00,275 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:00,275 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:00,275 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:56:00,275 bt_notification:0401] [:(] _source_app_status_cb received = APP_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:56:00,275 bt_notification:0406] [:(] Threading event sourceAppStatusNotifEvent set successfully
[D 2022-07-28 14:56:00,275 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:00,291 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:00,291 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_A2DP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_UNINITIALIZED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:00,322 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:56:00,322 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:56:00,322 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[I 2022-07-28 14:56:00,322 bt_notification:0288] [:(] wait_for_source_status_notification
[D 2022-07-28 14:56:00,322 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:00,322 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:56:00,322 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:56:00,322 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/connect
[D 2022-07-28 14:56:00,322 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:56:00,322 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/connect', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 183}}
[D 2022-07-28 14:56:00,322 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:56:00,338 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 183,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:00,338 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 183,
        "resource": "/bluetooth/source/connect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:00,338 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/connect
[D 2022-07-28 14:56:00,385 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 183,
        "resource": "/bluetooth/source/connect",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:00,385 bt_notification:0201] [:(] wait_for_source_profiles_status_notification
[D 2022-07-28 14:56:00,494 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:00,494 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_HFAG",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_UNINITIALIZED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:00,494 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:56:00,494 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:56:00,494 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:56:00,494 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:56:00,494 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:56:00,509 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:00,509 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:00,509 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_SPP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_UNINITIALIZED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_CONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:56:01,041 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:01,041 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:01,291 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:01,291 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:01,369 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:01,369 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
stream_type: VOICE
max_val: 15
current_val: 10
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:01,385 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(tel): context= 0
[I 2022-07-28 14:56:01,385 SpitfireComponentMessaging:0082] [:(] Right: Got 'tel' Event: 0
 --- Data ---
status: TEL_PROFILE_CONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[D 2022-07-28 14:56:01,588 bt_notification:0549] [:(] _source_hfag_battery_level_cb received = NOTIFY
[D 2022-07-28 14:56:01,588 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "percentage": 0
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagBatteryLevelStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:01,588 bt_notification:0476] [:(] _source_hfag_speaker_volume_cb received = NOTIFY
[D 2022-07-28 14:56:01,588 bt_notification:0480] [:(] Threading event sourceHfagSpeakerVolumesNotifEvent set successfully
[D 2022-07-28 14:56:01,588 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "type": "SPEAKER",
        "volume": 67
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagVolume/speaker",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:01,666 bt_notification:0469] [:(] _source_hfag_mic_volume_cb received = NOTIFY
[D 2022-07-28 14:56:01,666 bt_notification:0473] [:(] Threading event sourceHfagMicVolumeNotifEvent set successfully
[D 2022-07-28 14:56:01,666 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "type": "MIC",
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/hfagVolume/mic",
        "version": 1.0
    }
}
[W 2022-07-28 14:56:02,056 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:02,056 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:02,291 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:02,291 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:03,071 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:03,071 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:03,306 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:03,306 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:03,493 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[I 2022-07-28 14:56:03,493 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[W 2022-07-28 14:56:04,071 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:04,071 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:04,071 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_AVRCP",
        "status": "PROFILE_CONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_CONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/sink/macAddr
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/sink/macAddr', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 184}}
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:56:04,071 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 184,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 184,
        "resource": "/bluetooth/sink/macAddr",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:04,071 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/sink/macAddr
[D 2022-07-28 14:56:04,102 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "mac": "28:11:a5:a5:cb:a8"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 184,
        "resource": "/bluetooth/sink/macAddr",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:04,102 sink_group:0030] [:(] wait_for_sink_profiles_connection_state: RIGHT
[I 2022-07-28 14:56:04,102 bt_spitfire_helper:0249] [:(] Right: wait_for_sink_profiles_connection_state: ['PROFILE_ID_AVRCP', 'PROFILE_ID_A2DP', 'PROFILE_ID_HFAG'] PROFILE_CONNECTED 28:11:a5:a5:cb:a8 30
[D 2022-07-28 14:56:04,134 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:04,134 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:56:04,134 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 88
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:04,196 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2........s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:56:04,196 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2........s. H
[I 2022-07-28 14:56:04,196 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:56:04,196 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:56:04,196 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[W 2022-07-28 14:56:04,321 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:04,321 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:04,806 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2........s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:56:04,806 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2........s. H
[I 2022-07-28 14:56:04,806 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:56:04,806 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:56:04,806 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[W 2022-07-28 14:56:05,087 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:05,087 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:05,118 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 0
[I 2022-07-28 14:56:05,118 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 0
 --- Data ---
status: PROFILE_CONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:05,133 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:05,133 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:05,290 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 1
[I 2022-07-28 14:56:05,290 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 1
 --- Data ---
status: MEDIA_STOPPED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[W 2022-07-28 14:56:05,337 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:05,337 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:05,415 bt_spitfire_helper:0278] [:(] Right: cor.bt list response: '*1) 28:11:a5:a5:cb:a8  h2v.......s. H    47f5 6ca5 f5b9 25c4 378f 42d4 5616 641f BA8BCC HS 300'
[I 2022-07-28 14:56:05,415 bt_spitfire_helper:0370] [:(] Right: Current Profiles h2v.......s. H
[I 2022-07-28 14:56:05,415 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : v (PROFILE_ID_AVRCP)
[I 2022-07-28 14:56:05,415 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : 2 (PROFILE_ID_A2DP)
[I 2022-07-28 14:56:05,415 bt_spitfire_helper:0373] [:(] Right: Checking state for Profile : h (PROFILE_ID_HFP)
[I 2022-07-28 14:56:05,415 helper_functions:0211] [:(] set_volume
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/volume
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0379] [:(] Enveloping data: {
    "volume": 90
}
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/volume', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 185}}
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "volume": 90
}
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "volume": 90
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 185,
        "resource": "/bluetooth/source/volume",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "volume": 90
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 185,
        "resource": "/bluetooth/source/volume",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:05,415 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/volume
[D 2022-07-28 14:56:05,446 bt_notification:0331] [:(] _source_volume_cb received = POST
[D 2022-07-28 14:56:05,461 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 185,
        "resource": "/bluetooth/source/volume",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:05,461 sink_group:0086] [:(] send_audio_prepare_output_request: BOTH
[I 2022-07-28 14:56:05,461 SpitfireAudioMessage:0708] [:(] Right: send_audio_prepare_output_request for prepare: True chain: True hwPower: True, unlock: True
[I 2022-07-28 14:56:05,461 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 35
[D Jul-28 14:56:05.461 SpitfireMessaging:361] Sending request with transaction id 220 (0xdc)
[D Jul-28 14:56:05.461 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:05,461 SpitfireAudioMessage:0708] [:(] Left: send_audio_prepare_output_request for prepare: True chain: True hwPower: True, unlock: True
[I 2022-07-28 14:56:05,461 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 35
[D Jul-28 14:56:05.461 SpitfireMessaging:361] Sending request with transaction id 9 (0x9)
[D Jul-28 14:56:05.477 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:05,477 sink_group:0086] [:(] check_audio_prepare_output_event: BOTH
[I 2022-07-28 14:56:05,477 SpitfireAudioMessage:0744] [:(] Right: check_audio_prepare_output_event: prepared: True, chain: True, hwPower: True, unlock: True, timeout_s: 10
[W 2022-07-28 14:56:05,477 api:0040] [:(] Right: Current Audio event prepared state False is not as expected True, retrying in 1 seconds...
[I 2022-07-28 14:56:05,743 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:56:05,743 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
}

[I 2022-07-28 14:56:05,743 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  chain: true
}

[I 2022-07-28 14:56:05,743 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:05,759 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 35, request_id: 7
 --- payload---
success: true


[I 2022-07-28 14:56:05,774 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:56:05,774 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
}

[I 2022-07-28 14:56:05,774 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  chain: true
}

[I 2022-07-28 14:56:05,774 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:05,774 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:05,774 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:56:05,774 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 90
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:05,790 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 35, request_id: 144
 --- payload---
success: true


[I 2022-07-28 14:56:05,790 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:56:05,790 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:56:05,805 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:05,805 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:05,821 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:56:05,821 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:56:05,836 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 2
[I 2022-07-28 14:56:05,836 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 2
 --- Data ---
isTrackChanged: true
attributes {
  id: MPL_NOWPLAYING_TITLE
  len: 1
  attribute: " "
}

[I 2022-07-28 14:56:05,868 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:05,868 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 28
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[W 2022-07-28 14:56:06,477 api:0040] [:(] Right: Current Audio event prepared state False is not as expected True, retrying in 1 seconds...
[I 2022-07-28 14:56:06,508 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:56:06,508 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:56:06,524 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:56:06,524 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_ON

[I 2022-07-28 14:56:06,524 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:56:06,524 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:56:06,524 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:56:06,524 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:06,540 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:56:06,540 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:56:06,540 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:56:06,540 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:06,555 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:56:06,555 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_ON

[I 2022-07-28 14:56:06,571 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:56:06,571 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_ON

[I 2022-07-28 14:56:06,571 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:56:06,571 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:56:06,571 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:56:06,571 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:06,586 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:56:06,586 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:56:06,586 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:56:06,586 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:07,492 SpitfireAudioMessage:0763] [:(] Right: Got expected Audio output event: prepared True, chain True, hwPower True, unlock True : prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:56:07,492 SpitfireAudioMessage:0744] [:(] Left: check_audio_prepare_output_event: prepared: True, chain: True, hwPower: True, unlock: True, timeout_s: 10
[I 2022-07-28 14:56:07,492 SpitfireAudioMessage:0763] [:(] Left: Got expected Audio output event: prepared True, chain True, hwPower True, unlock True : prepared: true
state {
  chain: true
  hwPower: true
  unlock: true
}

[I 2022-07-28 14:56:07,492 helper_functions:0245] [:(] Main music url http://10.26.138.25:24753/testfile_48k_2bPCM_500Hz_1000Hz_2m_stereo.wav
[I 2022-07-28 14:56:07,492 test_a2dp_play:1103] [:(] stream_url = http://10.26.138.25:24753/testfile_48k_2bPCM_500Hz_1000Hz_2m_stereo.wav
[I 2022-07-28 14:56:07,492 helper_functions:0229] [:(] play_primary_stream url=http://10.26.138.25:24753/testfile_48k_2bPCM_500Hz_1000Hz_2m_stereo.wav
[I 2022-07-28 14:56:07,492 apTestClient:0229] [:(]  SETURL
[I 2022-07-28 14:56:07,492 apTestClient:0287] [:(] url: "http://10.26.138.25:24753/testfile_48k_2bPCM_500Hz_1000Hz_2m_stereo.wav"
url_is_realtime: false
connection_timeout_in_ms: 20000
buffering_timeout_in_ms: 180000
source_dryup_timeout_ms: 30000
source_retry_delay_ms: 5000
source_retry_count: 5
dist_range: MULTIROOM
url_uuid: "03bce2ca177e44b1b39d84d3c4e70bbb"

[I 2022-07-28 14:56:07,492 apTestClient:0315] [:(] TRANSPORT CONTROL PLAY, url_id: 0  url_uuid 03bce2ca177e44b1b39d84d3c4e70bbb
[I 2022-07-28 14:56:07,492 helper_functions:0232] [:(] primary stream urlUuid=03bce2ca177e44b1b39d84d3c4e70bbb
[I 2022-07-28 14:56:07,492 apServerListener:0221] [:(] Wait for Stream Event PLAYING id 03bce2ca177e44b1b39d84d3c4e70bbb
[I 2022-07-28 14:56:07,492 apServerListener:0572] [:(] VolumeControl 10
[I 2022-07-28 14:56:07,492 apEventHandler:0041] [:(] Got Event: VOLUMECONTROL
10.26.138.48 - - [28/Jul/2022 14:56:07] "GET /testfile_48k_2bPCM_500Hz_1000Hz_2m_stereo.wav HTTP/1.1" 200 -
[I 220728 14:56:07.539 SampleMusicServer:39] [:(] FILESIZE 23040044
[W 2022-07-28 14:56:07,555 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:07,555 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:07,555 apServerListener:0249] [:(] SETURL Response 14:56:07.555216 url: True, url_id: http://10.26.138.25:24753/testfile_48k_2bPCM_500Hz_1000Hz_2m_stereo.wav, url_uuid: 23
[I 2022-07-28 14:56:07,555 apEventHandler:0041] [:(] Got Event: SETURL
[I 2022-07-28 14:56:07,555 apEventHandler:0041] [:(] Got Event: CONNECTING
[I 2022-07-28 14:56:07,555 apServerListener:0395] [:(] different prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:07,555 apEventHandler:0041] [:(] Got Event: PREFETCH_TYPE
[I 2022-07-28 14:56:07,555 apServerListener:0398] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' PREFETCH_TYPE ', '0']
[I 2022-07-28 14:56:07,555 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:07,555 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:07,555 apServerListener:0415] [:(] 14:56:07.555216 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update CONNECTING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:07,555 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:56:07,555 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:56:07,555 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:56:07,555 apServerListener:0288] [:(] TRANSPORT PLAY url_id: 0 url_uuid: 03bce2ca177e44b1b39d84d3c4e70bbb
[I 2022-07-28 14:56:07,555 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:56:07,602 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:07,602 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:07,617 apServerListener:0482] [:(] SERVER IS UNSUSPENDED
[I 2022-07-28 14:56:07,617 apEventHandler:0041] [:(] Got Event: UNSUSPENDED
[I 2022-07-28 14:56:07,617 apEventHandler:0041] [:(] Got Event: BUFFERING
[I 2022-07-28 14:56:07,617 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:07,617 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:07,617 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:07,617 apServerListener:0415] [:(] 14:56:07.617763 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update BUFFERING stoppedReason: NA milliseconds: 0 byte_offset 0 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:07,617 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:56:07,617 apServerListener:0629] [:(] Stream state - isSilent: True
[I 2022-07-28 14:56:07,617 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:56:07,695 apEventHandler:0041] [:(] Got Event: PLAYING
[I 2022-07-28 14:56:07,695 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:07,695 helper_functions:0234] [:(] play_stream is playing now
[I 2022-07-28 14:56:07,695 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:07,695 sink_group:0086] [:(] check_audio_stream_status: BOTH
[I 2022-07-28 14:56:07,695 SpitfireAudioMessage:0246] [:(] Right: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:07,695 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:07,695 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:07,695 apServerListener:0415] [:(] 14:56:07.695759 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 0 byte_offset 2140 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:07,695 apServerListener:0614] [:(] Stream State received from client 10.26.138.48
[I 2022-07-28 14:56:07,695 apServerListener:0629] [:(] Stream state - isSilent: False
[I 2022-07-28 14:56:07,695 apEventHandler:0041] [:(] Got Event: STREAMSTATE
[I 2022-07-28 14:56:08,539 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:08,539 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:08,539 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:08,539 apServerListener:0415] [:(] 14:56:08.539310 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 848 byte_offset 165628 total_length 0 prefetchReady: False prefetchType: 0
[D 2022-07-28 14:56:08,554 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:56:08,554 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:56:08,554 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[W 2022-07-28 14:56:08,570 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:08,570 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:08,617 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:08,617 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:08,711 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:08,711 api:0040] [:(] Right: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:08,976 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:08,976 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:08,976 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:08,976 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[D 2022-07-28 14:56:09,023 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:56:09,023 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_CONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:56:09,023 bt_notification:0356] [:(] Threading event sourceConnectionStatusNotifEvent set successfully
[D 2022-07-28 14:56:09,023 bt_notification:0359] [:(] _source_connection_status_cb received = True expected = True
[D 2022-07-28 14:56:09,023 bt_notification:0362] [:(] Threading event sourceSPPNotifEvent set successfully
[D 2022-07-28 14:56:09,023 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": true,
        "delay": 1500,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "serialNumber": "",
        "status": "DEVICE_CONNECTED",
        "streamState": "PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:09,539 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:09,539 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:09,539 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:09,539 apServerListener:0415] [:(] 14:56:09.539074 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 1848 byte_offset 356364 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:09,585 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:09,585 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:09,632 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:09,632 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:09,726 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:09,726 SpitfireAudioMessage:0269] [:(] Right: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:09,726 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:09,726 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:09,726 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:09,726 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:56:09,726 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 100
[I 2022-07-28 14:56:09,726 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:09,726 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 31
[I 2022-07-28 14:56:09,726 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 31 stream_type: 0
[I 2022-07-28 14:56:09,726 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:56:09.726 SpitfireMessaging:361] Sending request with transaction id 221 (0xdd)
[D Jul-28 14:56:09.726 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:09,726 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:09,726 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 145
[I 2022-07-28 14:56:10,101 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:10,101 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:10,101 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:56:10,101 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:56:10,117 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 145
 --- payload---
max_val: 31
current_val: 31


[D 2022-07-28 14:56:10,117 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:10,117 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:56:10,117 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:10,523 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:10,538 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:10,538 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:10,538 apServerListener:0415] [:(] 14:56:10.523525 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 2848 byte_offset 549196 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:10,601 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:10,601 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:10,632 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:10,632 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:11,132 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:11,132 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: False
[I 2022-07-28 14:56:11,132 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:11.132 SpitfireMessaging:361] Sending request with transaction id 10 (0xa)
[D Jul-28 14:56:11.148 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:11,148 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:11,148 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 2
[I 2022-07-28 14:56:11,148 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 2
[I 2022-07-28 14:56:11,195 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 2
 --- payload---
success: true


[I 2022-07-28 14:56:11,195 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:11,195 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:11,195 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:11,195 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:56:11,601 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:11,601 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:11,648 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:11,648 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:11,663 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:11,663 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:11,663 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:11,663 apServerListener:0415] [:(] 14:56:11.663854 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 3848 byte_offset 739932 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:12,210 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:12,210 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:12,554 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:12,554 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:12,554 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:12,554 apServerListener:0415] [:(] 14:56:12.554019 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 4848 byte_offset 932764 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:12,616 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:12,616 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:12,663 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:12,663 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:13,225 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:13,554 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:13,554 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:13,554 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:13,554 apServerListener:0415] [:(] 14:56:13.554077 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 5848 byte_offset 1125596 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:13,632 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:13,632 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:13,679 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:13,679 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:14,241 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:14,241 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:14,538 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:14,538 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:14,538 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:14,538 apServerListener:0415] [:(] 14:56:14.538201 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 6848 byte_offset 1316332 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:14,647 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:14,647 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:14,694 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:14,694 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:15,194 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:15,194 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:15,256 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:15,256 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:15,256 test_a2dp_play:1127] [:(] === Set primary single bud mode music volume(75)
[I 2022-07-28 14:56:15,256 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:56:15,256 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 75
[I 2022-07-28 14:56:15,256 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:15,256 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 24
[I 2022-07-28 14:56:15,256 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 24 stream_type: 0
[I 2022-07-28 14:56:15,256 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:56:15.256 SpitfireMessaging:361] Sending request with transaction id 222 (0xde)
[D Jul-28 14:56:15.272 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:15,272 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:15,272 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 146
[I 2022-07-28 14:56:15,319 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:15,319 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 24

[I 2022-07-28 14:56:15,334 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 146
 --- payload---
max_val: 31
current_val: 24


[I 2022-07-28 14:56:15,334 sink_group:0030] [:(] check_volume: RIGHT
[I 2022-07-28 14:56:15,334 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 75
[I 2022-07-28 14:56:15,334 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:15,334 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 24
[I 2022-07-28 14:56:15,334 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:15,334 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:15.334 SpitfireMessaging:361] Sending request with transaction id 223 (0xdf)
[D 2022-07-28 14:56:15,334 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D Jul-28 14:56:15.334 SpitfireMessaging:434] __dispatch_message: success
[D 2022-07-28 14:56:15,350 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[I 2022-07-28 14:56:15,350 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[D 2022-07-28 14:56:15,350 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 77
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:15,350 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 147
[D 2022-07-28 14:56:15,350 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:15,350 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:56:15,350 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 75
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:15,381 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 147
 --- payload---
max_val: 31
current_val: 24


[I 2022-07-28 14:56:15,537 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:15,537 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:15,537 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:15,553 apServerListener:0415] [:(] 14:56:15.537692 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 7848 byte_offset 1509164 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:15,662 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:15,662 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:15,709 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:15,709 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:16,397 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:16,397 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: True
[I 2022-07-28 14:56:16,397 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:16.397 SpitfireMessaging:361] Sending request with transaction id 11 (0xb)
[D Jul-28 14:56:16.397 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:16,397 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:16,397 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 3
[I 2022-07-28 14:56:16,397 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 3
[I 2022-07-28 14:56:16,443 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 3
 --- payload---
success: true


[I 2022-07-28 14:56:16,443 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:16,443 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:16,443 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:16,443 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:16,600 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:16,615 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:16,615 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:16,615 apServerListener:0415] [:(] 14:56:16.600228 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 8848 byte_offset 1699900 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:16,678 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:16,678 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:16,724 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:16,724 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:17,443 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:17,443 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:17,537 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:17,537 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:17,537 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:17,537 apServerListener:0415] [:(] 14:56:17.537524 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 9848 byte_offset 1892732 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:17,693 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:17,693 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:17,724 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:17,724 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:18,459 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:18,536 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:18,536 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:18,536 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:18,536 apServerListener:0415] [:(] 14:56:18.536953 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 10848 byte_offset 2085564 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:18,693 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:18,693 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:18,740 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:18,740 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:18,959 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:18,959 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 24
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:19,099 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:19,099 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:19,099 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:19,099 sink_group:0030] [:(] check_volume: BOTH
[I 2022-07-28 14:56:19,099 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 75
[I 2022-07-28 14:56:19,099 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:19,099 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 24
[I 2022-07-28 14:56:19,099 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:19,099 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:19.099 SpitfireMessaging:361] Sending request with transaction id 224 (0xe0)
[D Jul-28 14:56:19.099 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:19,099 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:19,099 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 148
[I 2022-07-28 14:56:19,161 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 148
 --- payload---
max_val: 31
current_val: 24


[I 2022-07-28 14:56:19,161 bt_spitfire_helper:0998] [:(] Left: check_volume: volume = 75
[I 2022-07-28 14:56:19,161 bt_spitfire_helper:0939] [:(] Left: get_volume_range: stream_type 0
[I 2022-07-28 14:56:19,161 SpitfireAudioMessage:0315] [:(] Left: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:19,161 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 29
[D Jul-28 14:56:19.161 SpitfireMessaging:361] Sending request with transaction id 12 (0xc)
[D Jul-28 14:56:19.177 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:19,177 SpitfireAudioMessage:0354] [:(] Left: check_abs_volume_response
[I 2022-07-28 14:56:19,177 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(aud): message_id: 29 and request_id: 8
[I 2022-07-28 14:56:19,208 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 29, request_id: 8
 --- payload---
max_val: 31
current_val: 24


[I 2022-07-28 14:56:19,208 bt_spitfire_helper:1003] [:(] Left: check_volume: abs_vol = 24
[I 2022-07-28 14:56:19,208 SpitfireAudioMessage:0315] [:(] Left: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:19,208 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 29
[D Jul-28 14:56:19.208 SpitfireMessaging:361] Sending request with transaction id 13 (0xd)
[D Jul-28 14:56:19.224 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:19,224 SpitfireAudioMessage:0354] [:(] Left: check_abs_volume_response
[I 2022-07-28 14:56:19,224 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(aud): message_id: 29 and request_id: 9
[I 2022-07-28 14:56:19,271 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 29, request_id: 9
 --- payload---
max_val: 31
current_val: 24


[I 2022-07-28 14:56:19,537 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:19,537 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:19,537 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:19,537 apServerListener:0415] [:(] 14:56:19.537060 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 11848 byte_offset 2276300 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:19,708 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:19,708 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:19,755 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:19,755 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:20,286 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:20,286 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: False
[I 2022-07-28 14:56:20,286 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:20.286 SpitfireMessaging:361] Sending request with transaction id 14 (0xe)
[D Jul-28 14:56:20.286 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:20,286 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:20,286 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 4
[I 2022-07-28 14:56:20,286 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 4
[I 2022-07-28 14:56:20,349 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 4
 --- payload---
success: true


[I 2022-07-28 14:56:20,349 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:20,349 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:20,349 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:20,349 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:20,583 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:20,583 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:20,583 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:20,599 apServerListener:0415] [:(] 14:56:20.583674 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 12848 byte_offset 2469132 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:20,708 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:20,708 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:20,755 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:20,755 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:21,364 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:21,364 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:21,520 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:21,520 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:21,536 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:21,536 apServerListener:0415] [:(] 14:56:21.520624 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 13848 byte_offset 2659868 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:21,724 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:21,724 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:21,770 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:21,770 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:22,379 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:22,427 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:22,427 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:22,427 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:22,427 test_a2dp_play:1127] [:(] === Set primary single bud mode music volume(50)
[I 2022-07-28 14:56:22,427 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:56:22,427 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 50
[I 2022-07-28 14:56:22,427 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:22,427 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 16
[I 2022-07-28 14:56:22,427 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 16 stream_type: 0
[I 2022-07-28 14:56:22,427 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:56:22.427 SpitfireMessaging:361] Sending request with transaction id 225 (0xe1)
[D Jul-28 14:56:22.427 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:22,442 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:22,442 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 149
[D 2022-07-28 14:56:22,473 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:22,489 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[I 2022-07-28 14:56:22,489 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[D 2022-07-28 14:56:22,489 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 52
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:22,489 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 16

[I 2022-07-28 14:56:22,504 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 149
 --- payload---
max_val: 31
current_val: 16


[I 2022-07-28 14:56:22,504 sink_group:0030] [:(] check_volume: RIGHT
[I 2022-07-28 14:56:22,504 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 50
[I 2022-07-28 14:56:22,504 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:22,504 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 16
[I 2022-07-28 14:56:22,504 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:22,504 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:22.504 SpitfireMessaging:361] Sending request with transaction id 226 (0xe2)
[D Jul-28 14:56:22.520 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:22,520 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:22,520 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 150
[D 2022-07-28 14:56:22,536 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[I 2022-07-28 14:56:22,536 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[D 2022-07-28 14:56:22,536 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[I 2022-07-28 14:56:22,536 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[D 2022-07-28 14:56:22,536 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 50
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:22,536 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:22,536 apServerListener:0415] [:(] 14:56:22.536356 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 14848 byte_offset 2852700 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:22,567 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 150
 --- payload---
max_val: 31
current_val: 16


[W 2022-07-28 14:56:22,739 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:22,739 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:22,786 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:22,786 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:23,536 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:23,536 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:23,536 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:23,536 apServerListener:0415] [:(] 14:56:23.536126 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 15848 byte_offset 3045532 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:23,582 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:23,582 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: True
[I 2022-07-28 14:56:23,582 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:23.582 SpitfireMessaging:361] Sending request with transaction id 15 (0xf)
[D Jul-28 14:56:23.582 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:23,582 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:23,582 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 5
[I 2022-07-28 14:56:23,582 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 5
[I 2022-07-28 14:56:23,629 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 5
 --- payload---
success: true


[I 2022-07-28 14:56:23,629 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:23,629 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:23,629 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:23,629 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:56:23,754 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:23,754 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:23,801 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:23,801 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:24,567 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:24,567 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:24,567 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:24,567 apServerListener:0415] [:(] 14:56:24.567078 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 16848 byte_offset 3236268 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:24,645 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:24,645 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:56:24,770 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:24,770 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:24,816 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:24,816 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:25,535 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:25,535 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:25,535 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:25,535 apServerListener:0415] [:(] 14:56:25.535644 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 17848 byte_offset 3429100 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:25,660 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:56:25,785 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:25,785 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:25,816 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:25,816 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:26,441 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:26,441 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 16
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:26,550 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:26,550 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:26,550 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:26,550 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:26,550 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:26,550 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:26,550 sink_group:0030] [:(] check_volume: BOTH
[I 2022-07-28 14:56:26,550 apServerListener:0415] [:(] 14:56:26.550988 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 18848 byte_offset 3619836 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:26,550 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 50
[I 2022-07-28 14:56:26,550 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:26,550 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 16
[I 2022-07-28 14:56:26,550 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:26,550 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:26.550 SpitfireMessaging:361] Sending request with transaction id 227 (0xe3)
[D Jul-28 14:56:26.566 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:26,566 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:26,566 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 151
[I 2022-07-28 14:56:26,613 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 151
 --- payload---
max_val: 31
current_val: 16


[I 2022-07-28 14:56:26,613 bt_spitfire_helper:0998] [:(] Left: check_volume: volume = 50
[I 2022-07-28 14:56:26,613 bt_spitfire_helper:0939] [:(] Left: get_volume_range: stream_type 0
[I 2022-07-28 14:56:26,613 bt_spitfire_helper:1003] [:(] Left: check_volume: abs_vol = 16
[I 2022-07-28 14:56:26,613 SpitfireAudioMessage:0315] [:(] Left: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:26,613 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 29
[D Jul-28 14:56:26.613 SpitfireMessaging:361] Sending request with transaction id 16 (0x10)
[D Jul-28 14:56:26.613 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:26,613 SpitfireAudioMessage:0354] [:(] Left: check_abs_volume_response
[I 2022-07-28 14:56:26,613 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(aud): message_id: 29 and request_id: 10
[I 2022-07-28 14:56:26,660 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 29, request_id: 10
 --- payload---
max_val: 31
current_val: 16


[W 2022-07-28 14:56:26,800 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:26,800 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:26,831 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:26,831 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:27,534 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:27,534 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:27,534 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:27,534 apServerListener:0415] [:(] 14:56:27.534967 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 19848 byte_offset 3812668 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:27,675 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:27,675 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: False
[I 2022-07-28 14:56:27,675 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:27.675 SpitfireMessaging:361] Sending request with transaction id 17 (0x11)
[D Jul-28 14:56:27.691 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:27,691 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:27,691 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 6
[I 2022-07-28 14:56:27,691 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 6
[I 2022-07-28 14:56:27,737 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 6
 --- payload---
success: true


[I 2022-07-28 14:56:27,737 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:27,737 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:27,737 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:27,737 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:56:27,800 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:27,800 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:27,831 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:27,831 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:28,738 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:28,738 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:28,769 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:28,769 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:28,769 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:28,769 apServerListener:0415] [:(] 14:56:28.769214 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 20848 byte_offset 4005500 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:28,816 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:28,816 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:28,847 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:28,847 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:29,534 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:29,534 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:29,534 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:29,534 apServerListener:0415] [:(] 14:56:29.519096 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 21848 byte_offset 4196236 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:29,753 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:29,768 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:29,768 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:29,768 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:29,768 test_a2dp_play:1127] [:(] === Set primary single bud mode music volume(25)
[I 2022-07-28 14:56:29,768 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:56:29,768 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 25
[I 2022-07-28 14:56:29,768 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:29,768 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 8
[I 2022-07-28 14:56:29,768 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 8 stream_type: 0
[I 2022-07-28 14:56:29,768 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:56:29.768 SpitfireMessaging:361] Sending request with transaction id 228 (0xe4)
[D Jul-28 14:56:29.768 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:29,768 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:29,768 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 152
[D 2022-07-28 14:56:29,815 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:29,815 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:56:29,815 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 27
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[W 2022-07-28 14:56:29,831 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:29,831 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:29,831 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:29,831 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 8

[I 2022-07-28 14:56:29,846 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 152
 --- payload---
max_val: 31
current_val: 8


[I 2022-07-28 14:56:29,846 sink_group:0030] [:(] check_volume: RIGHT
[I 2022-07-28 14:56:29,846 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 25
[I 2022-07-28 14:56:29,846 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:29,846 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 8
[I 2022-07-28 14:56:29,846 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:29,846 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:29.846 SpitfireMessaging:361] Sending request with transaction id 229 (0xe5)
[D Jul-28 14:56:29.846 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:29,846 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:29,846 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 153
[W 2022-07-28 14:56:29,862 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:29,862 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:29,862 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:29,862 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:56:29,862 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 25
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:29,909 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 153
 --- payload---
max_val: 31
current_val: 8


[I 2022-07-28 14:56:30,534 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:30,534 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:30,534 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:30,534 apServerListener:0415] [:(] 14:56:30.534465 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 22848 byte_offset 4389068 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:30,831 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:30,831 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:30,878 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:30,878 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:30,924 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:30,924 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: True
[I 2022-07-28 14:56:30,924 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:30.924 SpitfireMessaging:361] Sending request with transaction id 18 (0x12)
[D Jul-28 14:56:30.924 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:30,940 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:30,940 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 7
[I 2022-07-28 14:56:30,940 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 7
[I 2022-07-28 14:56:30,987 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 7
 --- payload---
success: true


[I 2022-07-28 14:56:30,987 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:30,987 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:30,987 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:30,987 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:31,534 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:31,534 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:31,534 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:31,534 apServerListener:0415] [:(] 14:56:31.534242 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 23848 byte_offset 4579804 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:31,846 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:31,846 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:31,893 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:31,893 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:31,987 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:31,987 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:32,549 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:32,549 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:32,564 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:32,564 apServerListener:0415] [:(] 14:56:32.549614 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 24848 byte_offset 4772636 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:32,862 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:32,862 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:32,908 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:32,908 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:33,002 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:33,549 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:33,549 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:33,549 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:33,549 apServerListener:0415] [:(] 14:56:33.549345 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 25848 byte_offset 4965468 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:33,877 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:33,877 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:33,908 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:33,908 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:33,986 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:33,986 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 8
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[W 2022-07-28 14:56:34,017 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:34,017 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:34,080 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:34,080 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:34,548 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:34,548 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:34,548 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:34,548 apServerListener:0415] [:(] 14:56:34.548804 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 26848 byte_offset 5156204 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:34,892 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:34,892 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:34,923 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:34,923 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:35,033 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:35,033 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:35,033 sink_group:0030] [:(] check_volume: BOTH
[I 2022-07-28 14:56:35,033 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 25
[I 2022-07-28 14:56:35,033 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:35,033 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 8
[I 2022-07-28 14:56:35,033 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:35,033 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:35.033 SpitfireMessaging:361] Sending request with transaction id 230 (0xe6)
[D Jul-28 14:56:35.048 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:35,048 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:35,048 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 154
[I 2022-07-28 14:56:35,095 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 154
 --- payload---
max_val: 31
current_val: 8


[I 2022-07-28 14:56:35,095 bt_spitfire_helper:0998] [:(] Left: check_volume: volume = 25
[I 2022-07-28 14:56:35,095 bt_spitfire_helper:0939] [:(] Left: get_volume_range: stream_type 0
[I 2022-07-28 14:56:35,095 bt_spitfire_helper:1003] [:(] Left: check_volume: abs_vol = 8
[I 2022-07-28 14:56:35,095 SpitfireAudioMessage:0315] [:(] Left: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:35,095 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 29
[D Jul-28 14:56:35.095 SpitfireMessaging:361] Sending request with transaction id 19 (0x13)
[D Jul-28 14:56:35.095 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:35,111 SpitfireAudioMessage:0354] [:(] Left: check_abs_volume_response
[I 2022-07-28 14:56:35,111 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(aud): message_id: 29 and request_id: 11
[I 2022-07-28 14:56:35,158 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 29, request_id: 11
 --- payload---
max_val: 31
current_val: 8


[I 2022-07-28 14:56:35,533 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:35,533 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:35,533 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:35,533 apServerListener:0415] [:(] 14:56:35.533275 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 27848 byte_offset 5349036 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:35,908 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:35,908 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:35,923 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:35,923 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:36,158 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:36,158 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: False
[I 2022-07-28 14:56:36,158 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:36.158 SpitfireMessaging:361] Sending request with transaction id 20 (0x14)
[D Jul-28 14:56:36.158 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:36,158 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:36,158 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 8
[I 2022-07-28 14:56:36,158 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 8
[I 2022-07-28 14:56:36,204 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 8
 --- payload---
success: true


[I 2022-07-28 14:56:36,204 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:36,204 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:36,204 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:36,204 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:36,611 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:36,611 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:36,611 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:36,611 apServerListener:0415] [:(] 14:56:36.611180 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 28848 byte_offset 5541868 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:36,923 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:36,923 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:36,938 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:36,938 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:37,220 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:37,220 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:37,594 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:37,594 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:37,594 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:37,594 apServerListener:0415] [:(] 14:56:37.594961 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 29848 byte_offset 5732604 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:37,923 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:37,923 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:37,938 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:37,938 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:38,235 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:38,282 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:38,282 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:38,282 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:38,282 test_a2dp_play:1127] [:(] === Set primary single bud mode music volume(0)
[I 2022-07-28 14:56:38,282 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:56:38,282 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 0
[I 2022-07-28 14:56:38,282 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:38,282 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 0
[I 2022-07-28 14:56:38,282 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 0 stream_type: 0
[I 2022-07-28 14:56:38,282 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:56:38.282 SpitfireMessaging:361] Sending request with transaction id 231 (0xe7)
[D Jul-28 14:56:38.282 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:38,282 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:38,297 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 155
[I 2022-07-28 14:56:38,345 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:38,345 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31

[D 2022-07-28 14:56:38,345 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:38,345 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[D 2022-07-28 14:56:38,345 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 0
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:38,360 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 155
 --- payload---
max_val: 31


[I 2022-07-28 14:56:38,360 sink_group:0030] [:(] check_volume: RIGHT
[I 2022-07-28 14:56:38,360 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 0
[I 2022-07-28 14:56:38,360 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:38,360 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 0
[I 2022-07-28 14:56:38,360 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:38,360 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:38.360 SpitfireMessaging:361] Sending request with transaction id 232 (0xe8)
[D Jul-28 14:56:38.360 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:38,360 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:38,360 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 156
[I 2022-07-28 14:56:38,423 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 156
 --- payload---
max_val: 31


[I 2022-07-28 14:56:38,548 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:38,548 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:38,548 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:38,548 apServerListener:0415] [:(] 14:56:38.548215 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 30848 byte_offset 5925436 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:38,938 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:38,938 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:38,954 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:38,954 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:39,438 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:39,438 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: True
[I 2022-07-28 14:56:39,438 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:39.438 SpitfireMessaging:361] Sending request with transaction id 21 (0x15)
[D Jul-28 14:56:39.438 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:39,438 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:39,438 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 9
[I 2022-07-28 14:56:39,453 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 9
[I 2022-07-28 14:56:39,485 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 9
 --- payload---
success: true


[I 2022-07-28 14:56:39,485 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:39,485 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:39,485 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:39,485 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:39,563 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:39,563 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:39,563 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:39,563 apServerListener:0415] [:(] 14:56:39.563601 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 31848 byte_offset 6116172 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:39,953 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:39,953 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:39,969 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:39,969 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:40,500 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:40,500 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:40,578 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:40,578 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:40,578 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:40,578 apServerListener:0415] [:(] 14:56:40.578748 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 32848 byte_offset 6309004 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:40,969 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:40,969 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:40,984 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:40,984 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:41,516 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:41,563 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:41,563 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:41,563 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:41,563 apServerListener:0415] [:(] 14:56:41.563080 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 33848 byte_offset 6501836 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:41,984 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:41,984 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:41,984 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:41,984 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:42,250 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:42,250 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:42,359 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:42,359 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:42,359 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:42,359 sink_group:0030] [:(] check_volume: BOTH
[I 2022-07-28 14:56:42,359 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 0
[I 2022-07-28 14:56:42,359 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:42,359 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 0
[I 2022-07-28 14:56:42,359 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:42,359 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:42.359 SpitfireMessaging:361] Sending request with transaction id 233 (0xe9)
[D Jul-28 14:56:42.359 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:42,359 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:42,359 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 157
[I 2022-07-28 14:56:42,421 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 157
 --- payload---
max_val: 31


[I 2022-07-28 14:56:42,421 bt_spitfire_helper:0998] [:(] Left: check_volume: volume = 0
[I 2022-07-28 14:56:42,421 bt_spitfire_helper:0939] [:(] Left: get_volume_range: stream_type 0
[I 2022-07-28 14:56:42,421 bt_spitfire_helper:1003] [:(] Left: check_volume: abs_vol = 0
[I 2022-07-28 14:56:42,421 SpitfireAudioMessage:0315] [:(] Left: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:42,421 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 29
[D Jul-28 14:56:42.421 SpitfireMessaging:361] Sending request with transaction id 22 (0x16)
[D Jul-28 14:56:42.421 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:42,421 SpitfireAudioMessage:0354] [:(] Left: check_abs_volume_response
[I 2022-07-28 14:56:42,421 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(aud): message_id: 29 and request_id: 12
[I 2022-07-28 14:56:42,468 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 29, request_id: 12
 --- payload---
max_val: 31


[I 2022-07-28 14:56:42,531 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:42,531 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:42,531 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:42,531 apServerListener:0415] [:(] 14:56:42.531602 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 34848 byte_offset 6692572 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:43,000 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:43,000 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:43,000 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:43,000 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:43,484 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:43,484 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: False
[I 2022-07-28 14:56:43,484 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:43.484 SpitfireMessaging:361] Sending request with transaction id 23 (0x17)
[D Jul-28 14:56:43.484 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:43,484 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:43,484 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 10
[I 2022-07-28 14:56:43,484 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 10
[I 2022-07-28 14:56:43,546 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 10
 --- payload---
success: true


[I 2022-07-28 14:56:43,546 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:43,546 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:43,546 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 4, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:43,546 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:43,609 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:43,609 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:43,609 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:43,609 apServerListener:0415] [:(] 14:56:43.609463 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 35848 byte_offset 6885404 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:44,015 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:44,015 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:44,015 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:44,015 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:44,546 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[W 2022-07-28 14:56:44,562 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[I 2022-07-28 14:56:44,562 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[W 2022-07-28 14:56:44,562 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[I 2022-07-28 14:56:44,562 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:44,562 apServerListener:0415] [:(] 14:56:44.546775 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 36848 byte_offset 7076140 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:45,015 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:45,015 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:45,015 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:45,015 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:45,562 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:45,577 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:45,577 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:45,577 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 4, ducked_state 1, streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[I 2022-07-28 14:56:45,577 test_a2dp_play:1127] [:(] === Set primary single bud mode music volume(100)
[I 2022-07-28 14:56:45,577 sink_group:0030] [:(] set_volume: RIGHT
[I 2022-07-28 14:56:45,577 bt_spitfire_helper:0968] [:(] Right: set_volume: volume = 100
[I 2022-07-28 14:56:45,577 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:45,577 bt_spitfire_helper:0973] [:(] Right: set_volume: set_abs_vol = 31
[I 2022-07-28 14:56:45,577 SpitfireAudioMessage:0300] [:(] Right: send_abs_volume_request volume: 31 stream_type: 0
[I 2022-07-28 14:56:45,577 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 28
[D Jul-28 14:56:45.577 SpitfireMessaging:361] Sending request with transaction id 234 (0xea)
[D Jul-28 14:56:45.593 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:45,593 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:45,593 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 28 and request_id: 158
[I 2022-07-28 14:56:45,609 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:45,609 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:45,609 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:45,609 apServerListener:0415] [:(] 14:56:45.609050 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 37848 byte_offset 7268972 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:45,640 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:45,640 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31

[I 2022-07-28 14:56:45,655 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 28, request_id: 158
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:56:45,655 sink_group:0030] [:(] check_volume: RIGHT
[I 2022-07-28 14:56:45,655 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 100
[I 2022-07-28 14:56:45,655 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:45,655 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 31
[I 2022-07-28 14:56:45,655 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:45,655 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:45.655 SpitfireMessaging:361] Sending request with transaction id 235 (0xeb)
[D Jul-28 14:56:45.671 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:45,671 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:45,671 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 159
[D 2022-07-28 14:56:45,702 bt_notification:0331] [:(] _source_volume_cb received = NOTIFY
[D 2022-07-28 14:56:45,702 bt_notification:0335] [:(] Threading event sourceVolumeNotifEvent set successfully
[I 2022-07-28 14:56:45,718 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 159
 --- payload---
max_val: 31
current_val: 31


[D 2022-07-28 14:56:45,718 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "maxVolume": 100,
        "volume": 100
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/volume",
        "version": 1.0
    }
}
[W 2022-07-28 14:56:46,030 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:46,030 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:46,030 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:46,030 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:46,577 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:46,577 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:46,577 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:46,577 apServerListener:0415] [:(] 14:56:46.577538 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 38848 byte_offset 7461804 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:46,718 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:46,718 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: True
[I 2022-07-28 14:56:46,718 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:46.718 SpitfireMessaging:361] Sending request with transaction id 24 (0x18)
[D Jul-28 14:56:46.718 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:46,718 sink_group:0030] [:(] check_radio_transmitter_response: LEFT
[I 2022-07-28 14:56:46,718 SpitfireBluetoothMessage:0227] [:(] Left: check_radio_transmitter_response: request_id: 11
[I 2022-07-28 14:56:46,718 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(bt): message_id: 31 and request_id: 11
[I 2022-07-28 14:56:46,765 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 11
 --- payload---
success: true


[I 2022-07-28 14:56:46,765 SpitfireBluetoothMessage:0234] [:(] Left:  response: success: true

[I 2022-07-28 14:56:46,765 sink_group:0086] [:(] check_audio_stream_status: LEFT
[I 2022-07-28 14:56:46,765 SpitfireAudioMessage:0246] [:(] Left: check_audio_stream_status: Event: 0, Expected Stream type: 0, State: 3, DuckedState: 1, expected_reason: None, stream_id: None
[I 2022-07-28 14:56:46,765 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[W 2022-07-28 14:56:47,045 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:47,045 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:47,045 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:47,045 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:47,592 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:47,592 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:47,592 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:47,592 apServerListener:0415] [:(] 14:56:47.592605 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 39848 byte_offset 7652540 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:47,780 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 0
[W 2022-07-28 14:56:47,780 api:0040] [:(] Left: Event 0 wait timed out, retrying in 1 seconds...
[W 2022-07-28 14:56:48,045 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:48,045 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:48,045 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:48,045 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:48,795 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 0
[I 2022-07-28 14:56:48,795 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:48,795 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:48,795 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:48,795 apServerListener:0415] [:(] 14:56:48.795477 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 40848 byte_offset 7845372 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:49,061 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:49,061 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:49,061 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:49,061 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:49,295 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 1
[I 2022-07-28 14:56:49,295 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 1
 --- Data ---
max_val: 31
current_val: 31
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:49,389 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:49,389 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:49,389 SpitfireAudioMessage:0269] [:(] Left: Got expected Audio stream event: stream type 0, state 3, ducked_state 1, streamStatus {
  streamState: PLAYING
  duckedState: FRONTED
  toneArgs {
  }
}

[I 2022-07-28 14:56:49,389 sink_group:0030] [:(] check_volume: BOTH
[I 2022-07-28 14:56:49,389 bt_spitfire_helper:0998] [:(] Right: check_volume: volume = 100
[I 2022-07-28 14:56:49,389 bt_spitfire_helper:0939] [:(] Right: get_volume_range: stream_type 0
[I 2022-07-28 14:56:49,389 bt_spitfire_helper:1003] [:(] Right: check_volume: abs_vol = 31
[I 2022-07-28 14:56:49,389 SpitfireAudioMessage:0315] [:(] Right: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:49,389 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 29
[D Jul-28 14:56:49.389 SpitfireMessaging:361] Sending request with transaction id 236 (0xec)
[D Jul-28 14:56:49.389 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:49,389 SpitfireAudioMessage:0354] [:(] Right: check_abs_volume_response
[I 2022-07-28 14:56:49,389 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(aud): message_id: 29 and request_id: 160
[I 2022-07-28 14:56:49,451 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 29, request_id: 160
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:56:49,451 bt_spitfire_helper:0998] [:(] Left: check_volume: volume = 100
[I 2022-07-28 14:56:49,451 bt_spitfire_helper:0939] [:(] Left: get_volume_range: stream_type 0
[I 2022-07-28 14:56:49,451 bt_spitfire_helper:1003] [:(] Left: check_volume: abs_vol = 31
[I 2022-07-28 14:56:49,451 SpitfireAudioMessage:0315] [:(] Left: get_abs_volume_request stream_type: 0
[I 2022-07-28 14:56:49,451 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 29
[D Jul-28 14:56:49.451 SpitfireMessaging:361] Sending request with transaction id 25 (0x19)
[D Jul-28 14:56:49.451 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:49,451 SpitfireAudioMessage:0354] [:(] Left: check_abs_volume_response
[I 2022-07-28 14:56:49,451 SpitfireComponentMessaging:0261] [:(] Left: wait_for_response(aud): message_id: 29 and request_id: 13
[I 2022-07-28 14:56:49,498 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 29, request_id: 13
 --- payload---
max_val: 31
current_val: 31


[I 2022-07-28 14:56:49,498 conftest:0697] [:(] -----------------------
[I 2022-07-28 14:56:49,498 conftest:0698] [:(] TEST PASSED
[I 2022-07-28 14:56:49,498 conftest:0699] [:(] Test: test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_mode_volume_check[False-src_dev1_Smalls_]
[I 2022-07-28 14:56:49,498 conftest:0700] [:(] DateTime: 2022-07-28 14:56:49.498756
[I 2022-07-28 14:56:49,498 conftest:0701] [:(] ------------------------
PASSED[I 2022-07-28 14:56:49,498 test_a2dp_play:0078] [:(] ---------------START TEARDOWN---------------------
[I 2022-07-28 14:56:49,498 sink_group:0086] [:(] send_radio_transmitter_request: LEFT
[I 2022-07-28 14:56:49,498 SpitfireBluetoothMessage:0214] [:(] Left: send_radio_transmitter_request for enable: True
[I 2022-07-28 14:56:49,498 SpitfireComponentMessaging:0210] [:(] Left: send_request(bt): message_id= 31
[D Jul-28 14:56:49.498 SpitfireMessaging:361] Sending request with transaction id 26 (0x1a)
[D Jul-28 14:56:49.498 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:49,545 SpitfireComponentMessaging:0199] [:(] Left: Response(bt): message_id: 31, request_id: 12
 --- payload---
success: true


[I 2022-07-28 14:56:49,561 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:49,561 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:49,561 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:49,561 apServerListener:0415] [:(] 14:56:49.561152 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 41848 byte_offset 8036108 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:50,076 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:50,076 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:50,076 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:50,076 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:50,560 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:50,560 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:50,576 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:50,576 apServerListener:0415] [:(] 14:56:50.560655 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 42848 byte_offset 8228940 total_length 0 prefetchReady: False prefetchType: 0
[W 2022-07-28 14:56:51,092 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:51,092 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:51,092 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:51,092 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:51,513 apTestClient:0315] [:(] TRANSPORT CONTROL STOP, url_id: 0  url_uuid 03bce2ca177e44b1b39d84d3c4e70bbb
[I 2022-07-28 14:56:51,513 apServerListener:0221] [:(] Wait for Stream Event STOPPED id 03bce2ca177e44b1b39d84d3c4e70bbb
[I 2022-07-28 14:56:51,529 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:51,529 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:51,529 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:51,529 apServerListener:0415] [:(] 14:56:51.529292 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update PLAYING stoppedReason: NA milliseconds: 43848 byte_offset 8421772 total_length 0 prefetchReady: False prefetchType: 0
[I 2022-07-28 14:56:51,623 apServerListener:0288] [:(] TRANSPORT STOP url_id: 0 url_uuid: 03bce2ca177e44b1b39d84d3c4e70bbb
[I 2022-07-28 14:56:51,623 apEventHandler:0041] [:(] Got Event: TRANSPORTCONTROL
[W 2022-07-28 14:56:52,107 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[W 2022-07-28 14:56:52,107 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:52,107 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:52,107 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:52,529 helper_functions:0068] [:(] is_source_connected
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0376] [:(] Sending GET to /bluetooth/source/status
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0379] [:(] Enveloping data:
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/status', 'version': 1, 'token': '12345', 'method': 'GET', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 186}}
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0437] [:(] The data received in JSON string is:

[D 2022-07-28 14:56:52,529 FrontDoorAPI:0452] [:(] The value of the message is: {
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 186,
        "resource": "/bluetooth/source/status",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "REQUEST",
        "reqID": 186,
        "resource": "/bluetooth/source/status",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:52,529 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/status
[D 2022-07-28 14:56:52,638 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:56:52,653 bt_notification:0401] [:(] _source_app_status_cb received = APP_PLAYING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[I 2022-07-28 14:56:52,700 apEventHandler:0041] [:(] Got Event: STOPPED
[D 2022-07-28 14:56:52,700 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_PLAYING"
    },
    "header": {
        "device": "GUID",
        "method": "GET",
        "msgtype": "RESPONSE",
        "reqID": 186,
        "resource": "/bluetooth/source/status",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:52,700 apServerListener:0400] [:(] same prefetch_type received : streamId : 03bce2ca177e44b1b39d84d3c4e70bbb : prefetch_type : SEQUENTIAL
[I 2022-07-28 14:56:52,700 sink_group:0086] [:(] get_mac: RIGHT
[I 2022-07-28 14:56:52,700 bt_spitfire_helper:0199] [:(] Right: get_mac
[I 2022-07-28 14:56:52,700 apServerListener:0409] [:(] ['Stream ', '03bce2ca177e44b1b39d84d3c4e70bbb', ' FRONTED']
[I 2022-07-28 14:56:52,700 SpitfireBluetoothMessage:0256] [:(] Right: get_mac_based_on_role
[I 2022-07-28 14:56:52,700 apEventHandler:0041] [:(] Got Event: FRONTED
[I 2022-07-28 14:56:52,700 SpitfireComponentMessaging:0210] [:(] Right: send_request(bt): message_id= 17
[I 2022-07-28 14:56:52,700 apServerListener:0415] [:(] 14:56:52.700808 SERVERSTATE streamId: 03bce2ca177e44b1b39d84d3c4e70bbb Update STOPPED stoppedReason: Interrupted milliseconds: 43972 byte_offset 8444828 total_length 0 prefetchReady: False prefetchType: 0
[D Jul-28 14:56:52.700 SpitfireMessaging:361] Sending request with transaction id 237 (0xed)
[D Jul-28 14:56:52.700 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:56:52,700 SpitfireComponentMessaging:0261] [:(] Right: wait_for_response(bt): message_id: 17 and request_id: 76
[I 2022-07-28 14:56:52,763 SpitfireComponentMessaging:0199] [:(] Right: Response(bt): message_id: 17, request_id: 76
 --- payload---
bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}


[I 2022-07-28 14:56:52,763 SpitfireBluetoothMessage:0268] [:(] Right: response: bluetooth_addr {
  nap: 30763
  uap: 100
  lap: 8144318
}

[I 2022-07-28 14:56:52,763 bt_spitfire_helper:0202] [:(] Right: get_mac: 78:2b:64:7c:45:be
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0376] [:(] Sending POST to /bluetooth/source/disconnect
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0379] [:(] Enveloping data: {
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/bluetooth/source/disconnect', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 187}}
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "mac": "78:2b:64:7c:45:be"
}
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 187,
        "resource": "/bluetooth/source/disconnect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "mac": "78:2b:64:7c:45:be"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 187,
        "resource": "/bluetooth/source/disconnect",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:52,763 FrontDoorAPI:0392] [:(] Getting the response for: /bluetooth/source/disconnect
[I 2022-07-28 14:56:52,825 apServerListener:0479] [:(] SERVER IS SUSPENDED
[I 2022-07-28 14:56:52,841 apEventHandler:0041] [:(] Got Event: SUSPENDED
[D 2022-07-28 14:56:52,872 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:56:52,966 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTING expected = DEVICE_CONNECTED
[D 2022-07-28 14:56:52,981 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:52,981 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(tel): context= 0
[I 2022-07-28 14:56:53,138 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:53,153 apEventHandler:0041] [:(] Got Event: LATENCYUPDATE
[W 2022-07-28 14:56:53,153 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:53,169 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[W 2022-07-28 14:56:53,138 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:53,263 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:53,169 bt_notification:0397] [:(] _source_app_status_cb
[I 2022-07-28 14:56:53,310 SpitfireComponentMessaging:0082] [:(] Right: Got 'tel' Event: 0
 --- Data ---
status: TEL_PROFILE_DISCONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[I 2022-07-28 14:56:53,263 apServerListener:0644] [:(] LATENCYUPDATE MESSAGE
[D 2022-07-28 14:56:53,606 bt_notification:0401] [:(] _source_app_status_cb received = APP_DISCONNECTING expected = ['APP_CONNECTING', 'APP_CONNECTED']
[I 2022-07-28 14:56:53,497 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:53,669 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "activeDevice": "78:2b:64:7c:45:be",
        "devices": [
            {
                "deviceClass": "240404",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                },
                "mac": "78:2b:64:7c:45:be",
                "name": "Smalls"
            }
        ],
        "status": "APP_DISCONNECTING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:53,669 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 0
[I 2022-07-28 14:56:53,763 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 0
 --- Data ---
streamStatus {
  streamState: COMPLETED
  duckedState: FRONTED
  reason: END_OF_TRACK
  toneArgs {
  }
}

[D 2022-07-28 14:56:53,763 bt_notification:0349] [:(] _source_connection_status_cb
[I 2022-07-28 14:56:53,763 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(mpl): context= 0
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0397] [:(] The returned response is:
{
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 187,
        "resource": "/bluetooth/source/disconnect",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:53,763 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTING expected = DEVICE_CONNECTED
[I 2022-07-28 14:56:53,763 SpitfireComponentMessaging:0082] [:(] Right: Got 'mpl' Event: 0
 --- Data ---
status: PROFILE_DISCONNECTED
device_id {
  nap: 10257
  uap: 165
  lap: 10865576
}

[D 2022-07-28 14:56:53,763 FrontDoorAPI:0374] [:(] Getting status of the WebSocket connection
[D 2022-07-28 14:56:53,763 bt_notification:0359] [:(] _source_connection_status_cb received = False expected = True
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0375] [:(] WebSocket is Open: True
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": false,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTING",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0376] [:(] Sending POST to /system/power/control
[D 2022-07-28 14:56:53,763 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0379] [:(] Enveloping data: {
    "power": "OFF"
}
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_SPP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0436] [:(] The header Json string: {'header': {'resource': '/system/power/control', 'version': 1, 'token': '12345', 'method': 'POST', 'msgtype': 'REQUEST', 'device': 'GUID', 'reqID': 188}}
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0437] [:(] The data received in JSON string is:
{
    "power": "OFF"
}
[D 2022-07-28 14:56:53,763 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0452] [:(] The value of the message is: {
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 188,
        "resource": "/system/power/control",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_HFAG",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0382] [:(] Enveloped Message to be sent:
{
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "REQUEST",
        "reqID": 188,
        "resource": "/system/power/control",
        "token": "1234xxxx",
        "version": 1
    }
}
[D 2022-07-28 14:56:53,763 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0392] [:(] Getting the response for: /system/power/control
[D 2022-07-28 14:56:53,763 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_AVRCP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_CONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:53,872 bt_notification:0349] [:(] _source_connection_status_cb
[D 2022-07-28 14:56:53,919 bt_notification:0352] [:(] _source_connection_status_cb received = DEVICE_DISCONNECTED expected = DEVICE_CONNECTED
[D 2022-07-28 14:56:53,981 bt_notification:0359] [:(] _source_connection_status_cb received = False expected = True
[D 2022-07-28 14:56:54,013 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "bmapConnected": false,
        "deviceClass": "240404",
        "deviceDIDInfo": {
            "primaryRecord": true,
            "product": 16484,
            "specID": 259,
            "vendor": 158,
            "vendorIDSource": 1,
            "version": 14882
        },
        "mac": "78:2b:64:7c:45:be",
        "name": "Smalls",
        "status": "DEVICE_DISCONNECTED",
        "streamState": "NOT_PLAYING"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/connectionStatus",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:54,091 bt_notification:0397] [:(] _source_app_status_cb
[D 2022-07-28 14:56:54,106 bt_notification:0401] [:(] _source_app_status_cb received = APP_NOT_CONNECTED expected = ['APP_CONNECTING', 'APP_CONNECTED']
[D 2022-07-28 14:56:54,137 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "devices": [
            {
                "deviceClass": "000000",
                "deviceDIDInfo": {
                    "primaryRecord": true,
                    "product": 16484,
                    "specID": 259,
                    "vendor": 158,
                    "vendorIDSource": 1,
                    "version": 14882
                }
            }
        ],
        "status": "APP_NOT_CONNECTED"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/status",
        "version": 1.0
    }
}
[D 2022-07-28 14:56:54,216 bt_notification:0380] [:(] _source_profile_status_cb
[D 2022-07-28 14:56:54,231 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "mac": "78:2b:64:7c:45:be",
        "profile": "PROFILE_ID_A2DP",
        "status": "PROFILE_DISCONNECTED",
        "summary": [
            {
                "profile": "PROFILE_ID_AVRCP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_HFAG",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_A2DP",
                "status": "PROFILE_DISCONNECTED"
            },
            {
                "profile": "PROFILE_ID_SPP",
                "status": "PROFILE_DISCONNECTED"
            }
        ]
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/source/profileStatus",
        "version": 1.0
    }
}
[I 2022-07-28 14:56:54,262 bt_notification:0586] [:(] _acl_status_cb
[I 2022-07-28 14:56:54,278 bt_notification:0587] [:(] {'header': {'device': 'b13a8018-0ead-1570-8a2a-b936b18bd42c', 'resource': '/bluetooth/aclConnectionStatus', 'method': 'NOTIFY', 'version': 1.0}, 'body': {'is_connected': False, 'mac': '78:2b:64:7c:45:be', 'reason': 22, 'type': 'CLASSIC'}}
[D 2022-07-28 14:56:54,387 FrontDoorAPI:0355] [:(] Last Notification received:{
    "body": {
        "is_connected": false,
        "mac": "78:2b:64:7c:45:be",
        "reason": 22,
        "type": "CLASSIC"
    },
    "header": {
        "device": "b13a8018-0ead-1570-8a2a-b936b18bd42c",
        "method": "NOTIFY",
        "resource": "/bluetooth/aclConnectionStatus",
        "version": 1.0
    }
}
[W 2022-07-28 14:56:54,559 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:54,575 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:54,590 FrontDoorAPI:0397] [:(] The returned response is:
{
    "body": {
        "power": "OFF"
    },
    "header": {
        "device": "GUID",
        "method": "POST",
        "msgtype": "RESPONSE",
        "reqID": 188,
        "resource": "/system/power/control",
        "status": 200,
        "token": "1234xxxx",
        "version": 1.0
    }
}
[W 2022-07-28 14:56:54,731 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:54,731 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:55,591 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:55,591 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:55,731 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:55,731 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:56,606 bt_notification:0572] [:(] wait_for_acl_disconnected_notification
[W 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:56,606 sink_group:0030] [:(] clear_audio_stream_status: BOTH
[I 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 0
[I 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0323] [:(] Right: clear_event(aud): event_id: 1
[I 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 0
[I 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0323] [:(] Left: clear_event(aud): event_id: 1
[I 2022-07-28 14:56:56,606 sink_group:0030] [:(] clear_smartanr_power_status_event: BOTH
[I 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0323] [:(] Right: clear_event(anr): event_id: 3
[I 2022-07-28 14:56:56,606 SpitfireComponentMessaging:0323] [:(] Left: clear_event(anr): event_id: 3
[I 2022-07-28 14:56:56,606 test_a2dp_play:0115] [:(] -----------------END TEARDOWN---------------------
[I 2022-07-28 14:56:56,606 conftest:0267] [:(] Stopping music server
[I 220728 14:56:56.606 SampleMusicServer:76] [:(] stopping sample music server...
[I 2022-07-28 14:56:56,606 conftest:0311] [:(] Closing apclient
[I 2022-07-28 14:56:56,606 apServerListener:0662] [:(] *****************HEADER READ EXCEPTION****************
[I 2022-07-28 14:56:56,606 apServerListener:0663] [:(] Error in header read
Traceback (most recent call last):
  File "C:\Users\111440\SpitfireWorkspace\testEnv\lib\site-packages\CastleAudioPathClientPyProto\APClient_py\apServerListener.py", line 657, in getHeader
    header = self.sock.recv(headerLen)
OSError: [WinError 10038] An operation was attempted on something that is not a socket
[I 2022-07-28 14:56:56,606 apServerListener:0664] [:(] ******************************************************
Closing socket
[I 2022-07-28 14:56:56,606 apFeatureFlags:0208] [:(] config not updated !!!
[I 2022-07-28 14:56:56,606 conftest:0314] [:(] apclient closed
[D 2022-07-28 14:56:56,606 conftest:0456] [:(] Teardown btNotification Fixture
[I 2022-07-28 14:56:56,606 bt_notification:0031] [:(] clean_up BTNotification
[W 2022-07-28 14:56:56,746 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:56,746 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:57,621 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:57,621 FrontDoorAPI:0258] [:(] Closing WebSocket Connection
[I 2022-07-28 14:56:57,621 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 2022-07-28 14:56:57,652 FrontDoorAPI:0284] [:(] WebSocket Connection Closed
[D 2022-07-28 14:56:57,652 conftest:0708] [:(] Teardown frontdoor Fixture
[W 2022-07-28 14:56:57,762 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:57,762 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:58,637 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:58,637 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:56:58,668 FrontDoorAPI:0258] [:(] Closing WebSocket Connection
[D 2022-07-28 14:56:58,668 conftest:0651] [:(] Teardown adb Fixture
[I 220728 14:56:58.668 getCoreDumps:55] [:(] Executing connect method
[I 220728 14:56:58.668 getCoreDumps:59] [:(] Attempting to establish ADB connection using device id
[W 2022-07-28 14:56:58,777 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:58,777 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:59,652 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:59,652 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:56:59,793 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:56:59,793 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[W 2022-07-28 14:57:00,667 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:57:00,667 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[D 220728 14:57:00.745 rivieraCommunication:204] [:(] setCommunicationDetail
[D 220728 14:57:00.745 rivieraCommunication:206] [:(] Adb get devices
[D 220728 14:57:00.777 rivieraCommunication:211] [:(] Adb set target device
[D 220728 14:57:00.777 rivieraCommunication:214] [:(] Adb check target device is set
[W 2022-07-28 14:57:00,808 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:57:00,808 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[D 220728 14:57:00.855 rivieraCommunication:330] [:(] Device found : ba8bcc5
[I 220728 14:57:00.855 rivieraCommunication:223] [:(] Connected to device: ba8bcc5
[I 220728 14:57:00.855 getCoreDumps:62] [:(] Connection established with ba8bcc5
[I 220728 14:57:00.855 getCoreDumps:154] [:(] Downloading /mnt/nv/BoseLog/ from ba8bcc5
[I 220728 14:57:00.886 getCoreDumps:164] [:(] No coredump found for ba8bcc5
[I 2022-07-28 14:57:00,886 sink_group:0086] [:(] send_audio_prepare_output_request: BOTH
[I 2022-07-28 14:57:00,901 SpitfireAudioMessage:0708] [:(] Right: send_audio_prepare_output_request for prepare: False chain: False hwPower: False, unlock: False
[I 2022-07-28 14:57:00,901 SpitfireComponentMessaging:0210] [:(] Right: send_request(aud): message_id= 35
[D Jul-28 14:57:00.901 SpitfireMessaging:361] Sending request with transaction id 238 (0xee)
[D Jul-28 14:57:00.901 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:57:00,901 SpitfireAudioMessage:0708] [:(] Left: send_audio_prepare_output_request for prepare: False chain: False hwPower: False, unlock: False
[I 2022-07-28 14:57:00,901 SpitfireComponentMessaging:0210] [:(] Left: send_request(aud): message_id= 35
[D Jul-28 14:57:00.901 SpitfireMessaging:361] Sending request with transaction id 27 (0x1b)
[D Jul-28 14:57:00.917 SpitfireMessaging:434] __dispatch_message: success
[I 2022-07-28 14:57:00,917 sink_group:0086] [:(] check_audio_prepare_output_event: BOTH
[I 2022-07-28 14:57:00,917 SpitfireAudioMessage:0744] [:(] Right: check_audio_prepare_output_event: prepared: False, chain: False, hwPower: False, unlock: False, timeout_s: 10
[W 2022-07-28 14:57:00,917 api:0040] [:(] Right: Current Audio event prepared state True is not as expected False, retrying in 1 seconds...
[I 2022-07-28 14:57:00,949 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:57:00,949 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:57:00,949 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:57:00,949 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:57:00,964 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:57:00,964 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:57:00,964 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  chain: true
  hwPower: true
}

[I 2022-07-28 14:57:00,964 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:57:00,980 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:57:00,980 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:57:00,980 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:57:00,980 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:57:00,995 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:57:00,995 SpitfireComponentMessaging:0199] [:(] Right: Response(aud): message_id: 35, request_id: 161
 --- payload---
success: true


[I 2022-07-28 14:57:00,995 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
  hwPower: true
}

[I 2022-07-28 14:57:00,995 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
  hwPower: true
}

[I 2022-07-28 14:57:00,995 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:57:01,011 SpitfireComponentMessaging:0199] [:(] Left: Response(aud): message_id: 35, request_id: 14
 --- payload---
success: true


[I 2022-07-28 14:57:01,011 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(aud): context= 3
[I 2022-07-28 14:57:01,011 SpitfireComponentMessaging:0082] [:(] Right: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:57:01,011 SpitfireAudioMessage:0055] [:(] Right: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:57:01,011 SpitfireComponentMessaging:0340] [:(] Right: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:57:01,027 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:57:01,027 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(aud): context= 3
[I 2022-07-28 14:57:01,027 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[I 2022-07-28 14:57:01,027 SpitfireComponentMessaging:0082] [:(] Left: Got 'aud' Event: 3
 --- Data ---
state {
}

[I 2022-07-28 14:57:01,027 SpitfireAudioMessage:0055] [:(] Left: _monitor_audio_prepare_output_event: response: state {
}

[I 2022-07-28 14:57:01,027 SpitfireComponentMessaging:0340] [:(] Left: wait_for_event(aud): event_id: 3
[I 2022-07-28 14:57:01,042 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:57:01,042 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_POWERING_OFF

[I 2022-07-28 14:57:01,276 SpitfireComponentMessaging:0238] [:(] Right: _event_callback_function(anr): context= 3
[I 2022-07-28 14:57:01,276 SpitfireComponentMessaging:0082] [:(] Right: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:57:01,292 SpitfireComponentMessaging:0238] [:(] Left: _event_callback_function(anr): context= 3
[I 2022-07-28 14:57:01,292 SpitfireComponentMessaging:0082] [:(] Left: Got 'anr' Event: 3
 --- Data ---
status: SMARTANR_POWER_STATUS_OFF

[I 2022-07-28 14:57:01,933 SpitfireAudioMessage:0763] [:(] Right: Got expected Audio output event: prepared False, chain False, hwPower False, unlock False : state {
}

[I 2022-07-28 14:57:01,933 SpitfireAudioMessage:0744] [:(] Left: check_audio_prepare_output_event: prepared: False, chain: False, hwPower: False, unlock: False, timeout_s: 10
[I 2022-07-28 14:57:01,933 SpitfireAudioMessage:0763] [:(] Left: Got expected Audio output event: prepared False, chain False, hwPower False, unlock False : state {
}

[D 2022-07-28 14:57:01,933 conftest:0363] [:(] Teardown sink Fixture
[I 2022-07-28 14:57:01,933 bt_spitfire_group_helper:0056] [:(] clean_up BTSpitfireGroupHelper
[I 2022-07-28 14:57:01,933 bt_spitfire_helper:0190] [:(] Right: clean_up BTSpitfireHelper
[I 2022-07-28 14:57:01,933 SpitfireAudioMessage:0046] [:(] Right: stop_audio_prepare_thread
[W 2022-07-28 14:57:02,026 SpitfireComponentMessaging:0100] [:(] Right: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:57:02,026 SpitfireComponentMessaging:0355] [:(] Right: clean_up SpitfireAudioMessage
[I 2022-07-28 14:57:02,026 SpitfireComponentMessaging:0355] [:(] Right: clean_up SpitfireMediaPlayerMessage
[I 2022-07-28 14:57:02,026 SpitfireComponentMessaging:0355] [:(] Right: clean_up SpitfireTelephonyMessage
[I 2022-07-28 14:57:02,026 bt_spitfire_helper:0260] [:(] Right: clear_all_events
[I 2022-07-28 14:57:02,026 bt_spitfire_helper:0190] [:(] Left: clean_up BTSpitfireHelper
[I 2022-07-28 14:57:02,026 SpitfireAudioMessage:0046] [:(] Left: stop_audio_prepare_thread
[W 2022-07-28 14:57:02,042 SpitfireComponentMessaging:0100] [:(] Left: Queue is empty for 'aud' event_id: 3
[I 2022-07-28 14:57:02,042 SpitfireComponentMessaging:0355] [:(] Left: clean_up SpitfireAudioMessage
[I 2022-07-28 14:57:02,042 SpitfireComponentMessaging:0355] [:(] Left: clean_up SpitfireMediaPlayerMessage
[I 2022-07-28 14:57:02,042 SpitfireComponentMessaging:0355] [:(] Left: clean_up SpitfireTelephonyMessage
[I 2022-07-28 14:57:02,042 bt_spitfire_helper:0260] [:(] Left: clear_all_events
[D 2022-07-28 14:57:02,042 conftest:0427] [:(] Teardown polycom Fixture
[I 2022-07-28 14:57:02,042 apTestClient:0143] [:(] ServerListener is None
[I 2022-07-28 14:57:02,073 conftest:1048] [:(] Cleanup started at the end of test...
[I 2022-07-28 14:57:02,104 conftest:1042] [:(] ./LOGS/2022-07-28-14-47-39\POLYCOMM_2022-07-28-14-47-39.txt removed successfully


================================================================================================================= FAILURES =================================================================================================================
_________________________________________________________________________________ TestA2DP_play.test_a2dp_volume_thrashing_no_wait[False-src_dev1_Smalls_] _________________________________________________________________________________
test_a2dp_play.py:612: in test_a2dp_volume_thrashing_no_wait
    assert response.current_val == expected_vol,\
E   AssertionError: Volume not as expected (up): actual (1) vs. expected (7)
E   assert 1 == 7
E     +1
E     -7
---------------------------------------------------------------------- generated xml file: C:\Users\111440\SpitfireWorkspace\SpitfireAudioAutomation\Tests\report.xml ----------------------------------------------------------------------
----------------------------------------------------------------- generated html file: file://C:\Users\111440\SpitfireWorkspace\SpitfireAudioAutomation\Tests\report.html ------------------------------------------------------------------
[I 2022-07-28 14:57:02,167 conftest:0718] [:(] =================== TEST RESULTS ====================
[I 2022-07-28 14:57:02,167 conftest:0729] [:(]  Passed: 11
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_play[False-src_dev1_Smalls__captureChannels_-testfile_44.1k_2bPCM_500Hz_1000Hz_10s_stereo.wav-44100]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_play[False-src_dev1_Smalls__captureChannels_-testfile_48k_2bPCM_500Hz_1000Hz_10s_stereo.wav-48000]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_set_and_get_sbc_codec_riv_connection[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_volume[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_step_up_down_audio_volume[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_min_max_volume[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_source_volume_notification[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_latency[False-src_dev1_Smalls__captureChannels_-testfile_44.1k_2bPCM_1000Hz_10m.mp3-44100]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_latency[False-src_dev1_Smalls__captureChannels_-testfile_48k_3dBFS_1000Hz_10m.mp3-48000]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_hw_control_for_cervelo[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0731] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_mode_volume_check[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0736] [:(]  Failed: 1
[I 2022-07-28 14:57:02,167 conftest:0738] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_volume_thrashing_no_wait[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0747] [:(]  Errors: 0
[I 2022-07-28 14:57:02,167 conftest:0750] [:(]  Skipped: 18
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_audio_play[False-src_dev1_Smalls__captureChannels_-AAC_VBR-AAC_CHANNEL_MODE_1-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_audio_play[False-src_dev1_Smalls__captureChannels_-AAC_VBR-AAC_CHANNEL_MODE_2-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_audio_play[False-src_dev1_Smalls__captureChannels_-AAC_CBR-AAC_CHANNEL_MODE_1-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_audio_play[False-src_dev1_Smalls__captureChannels_-AAC_CBR-AAC_CHANNEL_MODE_2-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_set_and_get_aac_codec_riv_connection[False-src_dev1_Smalls_]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_sbc_left_right_sync[False-src_dev1_Smalls__captureChannels_-pulse_every_1_second_10_min_44_1K.mp3-44100]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_sbc_left_right_sync[False-src_dev1_Smalls__captureChannels_-pulse_every_1_second_10_min_48K.mp3-48000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_left_right_sync[False-src_dev1_Smalls__captureChannels_-AAC_VBR-AAC_CHANNEL_MODE_1-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_left_right_sync[False-src_dev1_Smalls__captureChannels_-AAC_VBR-AAC_CHANNEL_MODE_2-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_left_right_sync[False-src_dev1_Smalls__captureChannels_-AAC_CBR-AAC_CHANNEL_MODE_1-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_aac_left_right_sync[False-src_dev1_Smalls__captureChannels_-AAC_CBR-AAC_CHANNEL_MODE_2-44100-192000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_quality[False-src_dev1_Smalls__captureChannels_-testfile_44.1k_2bPCM_1000Hz_10m.mp3-44100]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_quality[False-src_dev1_Smalls__captureChannels_-testfile_48k_3dBFS_1000Hz_10m.mp3-48000]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_audio_amplitude[False-src_dev1_Smalls__captureChannels_]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_left_right_sync_volume[False-src_dev1_Smalls__captureChannels_]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_left_right_sync_unmute[False-src_dev1_Smalls__captureChannels_]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_downmix_mode[False-src_dev1_Smalls__captureChannels_]
[I 2022-07-28 14:57:02,167 conftest:0752] [:(]    test_a2dp_play.py::TestA2DP_play::test_a2dp_single_bud_downmix_mode_on_peer_connection[False-src_dev1_Smalls__captureChannels_]
[I 2022-07-28 14:57:02,167 conftest:0757] [:(] =========== Passed 11, Failed 1, Error 0, Skipped 18 in 542.63s =============
[I 2022-07-28 14:57:02,276 conftest:1042] [:(] ./LOGS/2022-07-28-14-47-39\logs_2022-07-28-14-47-39.txt removed successfully
[I Jul-28 14:57:02.276 report_plugin:52]
[I Jul-28 14:57:02.276 report_plugin:53] ========================Test execution Summary=========================
[I Jul-28 14:57:02.276 report_plugin:54] Total Test:30. Passed:11, Failed:1, Skipped:18, Error: 0
[I Jul-28 14:57:02.276 report_plugin:60] =================================== FAILURES ===================================
[I Jul-28 14:57:02.276 report_plugin:62] TestA2DP_play.test_a2dp_volume_thrashing_no_wait[False-src_dev1_Smalls_]: test_a2dp_play.py:612: in test_a2dp_volume_thrashing_no_wait
        assert response.current_val == expected_vol,\
    E   AssertionError: Volume not as expected (up): actual (1) vs. expected (7)
    E   assert 1 == 7
    E     +1
    E     -7
[I Jul-28 14:57:02.276 report_plugin:64] =======================================================================
========================================================================================================= short test summary info ==========================================================================================================
FAILED test_a2dp_play.py::TestA2DP_play::test_a2dp_volume_thrashing_no_wait[False-src_dev1_Smalls_] - AssertionError: Volume not as expected (up): actual (1) vs. expected (7)
===================================================================================== 1 failed, 11 passed, 18 skipped, 3 warnings in 542.74s (0:09:02) =====================================================================================
_del_ BTSpitfireGroupHelper
_del_ BTSpitfireHelper
_del_ BTSpitfireHelper
__del__ BTNotification
[I 2022-07-28 14:57:02,339 apTestClient:0143] [:(] ServerListener is None

(testEnv) C:\Users\111440\SpitfireWorkspace\SpitfireAudioAutomation\Tests>
